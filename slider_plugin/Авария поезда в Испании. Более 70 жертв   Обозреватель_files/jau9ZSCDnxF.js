/*!CK:4067700989!*//*1375796932,178195747*/

if (self.CavalryLogger) { CavalryLogger.start_js(["RCBvJ"]); }

__d("EgoAdsObjectSet",["copyProperties","csx","DOM"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('csx'),i=b('DOM');function j(){this._allEgoUnits=[];this._egoUnits=[];}g(j.prototype,{init:function(l){this._allEgoUnits=l;this._egoUnits=[];this._allEgoUnits.forEach(function(m){var n=k(m);if(!n||!n.holdout)this._egoUnits.push(m);},this);},getCount:function(){return this._egoUnits.length;},forEach:function(l,m){this._egoUnits.forEach(l,m);},getUnit:function(l){return this._egoUnits[l];},getHoldoutAdIDsForSpace:function(l,m){if(!l||!m)return [];var n=[];for(var o=0;l>0&&o<this._allEgoUnits.length;o++){var p=this._allEgoUnits[o],q=m(p),r=k(p);if(l>=q&&r&&r.holdout)n.push(r.adid);l-=q;}return n;},getHoldoutAdIDsForNumAds:function(l){l=Math.min(l,this._allEgoUnits.length);var m=[];for(var n=0;n<l;n++){var o=this._allEgoUnits[n],p=k(o);if(p&&p.holdout)m.push(p.adid);}return m;}});function k(l){var m=i.scry(l,"div._4u8")[0],n=m&&m.getAttribute('data-ad');return n&&JSON.parse(n)||undefined;}e.exports=j;});
__d("ChatConfig",["ChatConfigInitialData","copyProperties"],function(a,b,c,d,e,f){var g=b('ChatConfigInitialData'),h=b('copyProperties'),i={},j={get:function(k,l){return k in i?i[k]:l;},set:function(k){if(arguments.length>1){var l={};l[k]=arguments[1];k=l;}h(i,k);},getDebugInfo:function(){return i;}};j.set(g);e.exports=j;});
__d("BanzaiODS",["Banzai","invariant"],function(a,b,c,d,e,f){var g=b('Banzai'),h=b('invariant');function i(){var k={},l={};function m(n,o,p,q){if(p===undefined)p=1;if(q===undefined)q=1;if(n in l)if(l[n]<=0){return;}else p/=l[n];var r=k[n]||(k[n]={}),s=r[o]||(r[o]=[0]);p=Number(p);q=Number(q);if(!isFinite(p)||!isFinite(q))return;s[0]+=p;if(arguments.length>=4){if(!s[1])s[1]=0;s[1]+=q;}}return {setEntitySample:function(n,o){l[n]=Math.random()<o?o:0;},bumpEntityKey:function(n,o,p){m(n,o,p);},bumpFraction:function(n,o,p,q){m(n,o,p,q);},flush:function(n){for(var o in k)g.post('ods:'+o,k[o],n);k={};}};}var j=i();j.create=i;g.subscribe(g.SEND,j.flush.bind(j,null));e.exports=j;});
__d("Rect",["Vector","$","copyProperties"],function(a,b,c,d,e,f){var g=b('Vector'),h=b('$'),i=b('copyProperties');function j(k,l,m,n,o){if(arguments.length===1){if(k instanceof j)return k;if(k instanceof g)return new j(k.y,k.x,k.y,k.x,k.domain);return j.getElementBounds(h(k));}i(this,{t:k,r:l,b:m,l:n,domain:o||'pure'});}j.prototype.w=function(){return this.r-this.l;};j.prototype.h=function(){return this.b-this.t;};j.prototype.toString=function(){return '(('+this.l+', '+this.t+'), ('+this.r+', '+this.b+'))';};j.prototype.contains=function(k){k=new j(k).convertTo(this.domain);var l=this;return (l.l<=k.l&&l.r>=k.r&&l.t<=k.t&&l.b>=k.b);};j.prototype.add=function(k,l){if(arguments.length==1){if(k.domain!='pure')k=k.convertTo(this.domain);return this.add(k.x,k.y);}var m=parseFloat(k),n=parseFloat(l);return new j(this.t+n,this.r+m,this.b+n,this.l+m,this.domain);};j.prototype.sub=function(k,l){if(arguments.length==1){return this.add(k.mul(-1));}else return this.add(-k,-l);};j.prototype.rotateAroundOrigin=function(k){var l=this.getCenter().rotate(k*Math.PI/2),m,n;if(k%2){m=this.h();n=this.w();}else{m=this.w();n=this.h();}var o=l.y-n/2,p=l.x-m/2,q=o+n,r=p+m;return new j(o,r,q,p,this.domain);};j.prototype.boundWithin=function(k){var l=0,m=0;if(this.l<k.l){l=k.l-this.l;}else if(this.r>k.r)l=k.r-this.r;if(this.t<k.t){m=k.t-this.t;}else if(this.b>k.b)m=k.b-this.b;return this.add(l,m);};j.prototype.getCenter=function(){return new g(this.l+this.w()/2,this.t+this.h()/2,this.domain);};j.prototype.getPositionVector=function(){return new g(this.l,this.t,this.domain);};j.prototype.getDimensionVector=function(){return new g(this.w(),this.h(),'pure');};j.prototype.convertTo=function(k){if(this.domain==k)return this;if(k=='pure')return new j(this.t,this.r,this.b,this.l,'pure');if(this.domain=='pure')return new j(0,0,0,0);var l=new g(this.l,this.t,this.domain).convertTo(k);return new j(l.y,l.x+this.w(),l.y+this.h(),l.x,k);};j.deserialize=function(k){var l=k.split(':');return new j(parseFloat(l[1]),parseFloat(l[2]),parseFloat(l[3]),parseFloat(l[0]));};j.newFromVectors=function(k,l){return new j(k.y,k.x+l.x,k.y+l.y,k.x,k.domain);};j.getElementBounds=function(k){return j.newFromVectors(g.getElementPosition(k),g.getElementDimensions(k));};j.getViewportBounds=function(){return j.newFromVectors(g.getScrollPosition(),g.getViewportDimensions());};j.minimumBoundingBox=function(k){var l=new j(Math.min(),Math.max(),Math.max(),Math.min()),m;for(var n=0;n<k.length;n++){m=k[n];l.t=Math.min(l.t,m.t);l.r=Math.max(l.r,m.r);l.b=Math.max(l.b,m.b);l.l=Math.min(l.l,m.l);}return l;};e.exports=j;});
__d("legacy:ChatTypeaheadBehavior",["ChatTypeaheadBehavior"],function(a,b,c,d){var e=b('ChatTypeaheadBehavior');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.chatTypeahead=function(f){f.enableBehavior(e);};},3);
__d("XUISpinner.react",["BrowserSupport","ReactPropTypes","React","cx","tx"],function(a,b,c,d,e,f){var g=b('BrowserSupport'),h=b('ReactPropTypes'),i=b('React'),j=b('cx'),k=b('tx'),l=g.hasCSSAnimations(),m=i.createClass({displayName:'XUISpinner',propTypes:{size:h.oneOf(['small','large']),background:h.oneOf(['light','dark'])},getDefaultProps:function(){return {size:'small',background:'light'};},render:function(){var n=(("_55ym")+(this.props.size=='small'?' '+"_55yn":'')+(this.props.size=='large'?' '+"_55yq":'')+(this.props.background=='light'?' '+"_55yo":'')+(this.props.background=='dark'?' '+"_55yp":'')+(!l?' '+"_5d9-":''));return this.transferPropsTo(i.DOM.span({className:n},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."));}});e.exports=m;});
__d("ScrollAwareDOM",["ArbiterMixin","CSS","DOM","DOMDimensions","DOMPosition","DOMQuery","HTML","Vector","ViewportBounds","copyProperties","isAsyncScrollQuery"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('CSS'),i=b('DOM'),j=b('DOMDimensions'),k=b('DOMPosition'),l=b('DOMQuery'),m=b('HTML'),n=b('Vector'),o=b('ViewportBounds'),p=b('copyProperties'),q=b('isAsyncScrollQuery');function r(w,x){return function(){v.monitor(arguments[w],x.curry.apply(x,arguments));};}function s(w){if(!(w instanceof Array))w=[w];for(var x=0;x<w.length;x++){var y=m.replaceJSONWrapper(w[x]);if(y instanceof m){return y.getRootNode();}else if(i.isNode(y))return y;}return null;}function t(w){return k.getElementPosition(w).y>o.getTop();}function u(w){var x=k.getElementPosition(w).y+j.getElementDimensions(w).height,y=j.getViewportDimensions().height-o.getBottom();return x>=y;}var v=p({monitor:function(w,x){if(q())return x();var y=s(w);if(y){var z=!!y.offsetParent;if(z&&(t(y)||u(y)))return x();var aa=n.getDocumentDimensions(),ba=x();if(z||(y.offsetParent&&!t(y))){var ca=n.getDocumentDimensions().sub(aa),da={delta:ca,target:y};if(v.inform('scroll',da)!==false)ca.scrollElementBy(l.getDocumentScrollElement());}return ba;}else return x();},replace:function(w,x){var y=s(x);if(!y||h.hasClass(y,'hidden_elem'))y=w;return v.monitor(y,function(){i.replace(w,x);});},prependContent:r(1,i.prependContent),insertAfter:r(1,i.insertAfter),insertBefore:r(1,i.insertBefore),setContent:r(0,i.setContent),appendContent:r(1,i.appendContent),remove:r(0,i.remove),empty:r(0,i.empty)},g);e.exports=v;});
__d("legacy:ScrollAwareDOM",["ScrollAwareDOM"],function(a,b,c,d){a.ScrollAwareDOM=b('ScrollAwareDOM');},3);
__d("legacy:css",["CSS"],function(a,b,c,d){a.CSS=b('CSS');},3);
__d("FBDesktopDetect",["UserAgent"],function(a,b,c,d,e,f){var g=b('UserAgent'),h='facebook.desktopplugin',i={mimeType:'application/x-facebook-desktop-1',isPluginInstalled:function(){if(g.osx())return false;var j=null;if(a.ActiveXObject){try{j=new a.ActiveXObject(h);if(j)return true;}catch(k){}}else if(a.navigator&&a.navigator.plugins){a.navigator.plugins.refresh(false);for(var l=0,m=a.navigator.plugins.length;l<m;l++){j=a.navigator.plugins[l];if(j.length&&j[0].type===this.mimeType)return true;}}return false;}};e.exports=i;});
__d("TypeaheadFacepile",["DOM"],function(a,b,c,d,e,f){var g=b('DOM');function h(){}h.render=function(i){var j=[g.create('span',{className:'splitpic leftpic'},[g.create('img',{alt:'',src:i[0]})]),g.create('span',{className:'splitpic'+(i[2]?' toppic':'')},[g.create('img',{alt:'',src:i[1]})])];if(i[2])j.push(g.create('span',{className:'splitpic bottompic'},[g.create('img',{alt:'',src:i[2]})]));return g.create('span',{className:'splitpics clearfix'},j);};e.exports=h;});
__d("SimpleDrag",["Event","ArbiterMixin","UserAgent","Vector","copyProperties","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('ArbiterMixin'),i=b('UserAgent'),j=b('Vector'),k=b('copyProperties'),l=b('emptyFunction');function m(n){this.minDragDistance=0;g.listen(n,'mousedown',this._start.bind(this));}k(m.prototype,h,{setMinDragDistance:function(n){this.minDragDistance=n;},_start:function(event){var n=false,o=true,p=null;if(this.inform('mousedown',event))o=false;if(this.minDragDistance){p=j.getEventPosition(event);}else{n=true;var q=this.inform('start',event);if(q===true){o=false;}else if(q===false){n=false;return;}}var r=i.ie()<9?document.documentElement:window,s=g.listen(r,{selectstart:o?g.prevent:l,mousemove:function(event){if(!n){var t=j.getEventPosition(event);if(p.distanceTo(t)<this.minDragDistance)return;n=true;if(this.inform('start',event)===false){n=false;return;}}this.inform('update',event);}.bind(this),mouseup:function(event){for(var t in s)s[t].remove();if(n){this.inform('end',event);}else this.inform('click',event);}.bind(this)});o&&event.prevent();}});e.exports=m;});
__d("FlipDirectionOnKeypress",["Event","DOM","Input","Style"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DOM'),i=b('Input'),j=b('Style');function k(event){var l=event.getTarget(),m=h.isNodeOfType(l,'input')&&(l.type=='text'),n=h.isNodeOfType(l,'textarea');if(!(m||n)||l.getAttribute('data-prevent-auto-flip'))return;var o=i.getValue(l),p=(l.style&&l.style.direction);if(!p){var q=0,r=true;for(var s=0;s<o.length;s++){var t=o.charCodeAt(s);if(t>=48){if(r){r=false;q++;}if(t>=1470&&t<=1920){j.set(l,'direction','rtl');return;}if(q==5){j.set(l,'direction','ltr');return;}}else r=true;}}else if(o.length===0)j.set(l,'direction','');}g.listen(document.documentElement,{keyup:k,input:k});});
__d("PlaceholderOnsubmitFormListener",["Event","Input"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Input');g.listen(document.documentElement,'submit',function(i){var j=i.getTarget().getElementsByTagName('*');for(var k=0;k<j.length;k++)if(j[k].getAttribute('placeholder')&&h.isEmpty(j[k]))h.setValue(j[k],'');});});
__d("EagleEye",["Arbiter","Env","OnloadEvent","isInIframe"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Env'),i=b('OnloadEvent'),j=b('isInIframe'),k=h.eagleEyeConfig||{},l='_e_',m=(window.name||'').toString();if(m.length==7&&m.substr(0,3)==l){m=m.substr(3);}else{m=k.seed;if(!j())window.name=l+m;}var n=(window.location.protocol=='https:'&&document.cookie.match(/\bcsm=1/))?'; secure':'',o=l+m+'_',p=new Date(Date.now()+604800000).toGMTString(),q=window.location.hostname.replace(/^.*(facebook\..*)$/i,'$1'),r='; expires='+p+';path=/; domain='+q+n,s=0,t,u=k.sessionStorage&&a.sessionStorage,v=document.cookie.length,w=false,x=Date.now();function y(ca){return o+(s++)+'='+encodeURIComponent(ca)+r;}function z(){var ca=[],da=false,ea=0,fa=0;this.isEmpty=function(){return !ca.length;};this.enqueue=function(ga,ha){if(ha){ca.unshift(ga);}else ca.push(ga);};this.dequeue=function(){ca.shift();};this.peek=function(){return ca[0];};this.clear=function(ga){v=Math.min(v,document.cookie.length);if(!w&&(new Date()-x>60000))w=true;var ha=!ga&&(document.cookie.search(l)>=0),ia=!!h.cookie_header_limit,ja=h.cookie_count_limit||19,ka=h.cookie_header_limit||3950,la=ja-5,ma=ka-1000;while(!this.isEmpty()){var na=y(this.peek());if(ia&&(na.length>ka||(w&&na.length+v>ka))){this.dequeue();continue;}if((ha||ia)&&((document.cookie.length+na.length>ka)||(document.cookie.split(';').length>ja)))break;document.cookie=na;ha=true;this.dequeue();}var oa=Date.now();if(ga||!da&&ha&&((fa>0)&&(Math.min(10*Math.pow(2,fa-1),60000)+ea<oa))&&g.query(i.ONLOAD)&&(!this.isEmpty()||(document.cookie.length>ma)||(document.cookie.split(';').length>la))){var pa=new Image(),qa=this,ra=h.tracking_domain||'';da=true;pa.onload=function ua(){da=false;fa=0;qa.clear();};pa.onerror=pa.onabort=function ua(){da=false;ea=Date.now();fa++;};var sa=h.fb_isb?'&fb_isb='+h.fb_isb:'',ta='&__user='+h.user;pa.src=ra+'/ajax/nectar.php?asyncSignal='+(Math.floor(Math.random()*10000)+1)+sa+ta+'&'+(!ga?'':'s=')+oa;}};}t=new z();if(u){var aa=function(){var ca=0,da=ca;function ea(){var ha=sessionStorage.getItem('_e_ids');if(ha){var ia=(ha+'').split(';');if(ia.length==2){ca=parseInt(ia[0],10);da=parseInt(ia[1],10);}}}function fa(){var ha=ca+';'+da;sessionStorage.setItem('_e_ids',ha);}function ga(ha){return '_e_'+((ha!==undefined)?ha:ca++);}this.isEmpty=function(){return da===ca;};this.enqueue=function(ha,ia){var ja=ia?ga(--da):ga();sessionStorage.setItem(ja,ha);fa();};this.dequeue=function(){this.isEmpty();sessionStorage.removeItem(ga(da));da++;fa();};this.peek=function(){var ha=sessionStorage.getItem(ga(da));return ha?(ha+''):ha;};this.clear=t.clear;ea();};t=new aa();}var ba={log:function(ca,da,ea){if(h.no_cookies)return;var fa=[m,Date.now(),ca].concat(da);fa.push(fa.length);function ga(){var ha=JSON.stringify(fa);try{t.enqueue(ha,!!ea);t.clear(!!ea);}catch(ia){if(u&&(ia.code===1000)){t=new z();u=false;ga();}}}ga();},getSessionID:function(){return m;}};e.exports=ba;a.EagleEye=ba;},3);
__d("ARIA",["DOM","emptyFunction","ge"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('emptyFunction'),i=b('ge'),j,k,l=function(){j=i('ariaAssertiveAlert');if(!j){j=g.create('div',{id:'ariaAssertiveAlert',className:'accessible_elem','aria-live':'assertive'});g.appendContent(document.body,j);}k=i('ariaPoliteAlert');if(!k){k=j.cloneNode(false);k.setAttribute('id','ariaPoliteAlert');k.setAttribute('aria-live','polite');g.appendContent(document.body,k);}l=h;};function m(o,p){l();var q=p?j:k;g.setContent(q,o);}var n={owns:function(o,p){o.setAttribute('aria-owns',g.getID(p));},setPopup:function(o,p){var q=g.getID(p);o.setAttribute('aria-owns',q);o.setAttribute('aria-haspopup','true');if(o.tabIndex==-1)o.tabIndex=0;},announce:function(o){m(o,true);},notify:function(o){m(o);}};e.exports=n;});
__d("goOrReplace",["URI","UserAgent"],function(a,b,c,d,e,f){var g=b('URI'),h=b('UserAgent');function i(j,k,l){var m=new g(k),n=a.Quickling;if(j.pathname=='/'&&m.getPath()!='/'&&n&&n.isActive()&&n.isPageActive(m)){var o=j.search?{}:{q:''};m=new g().setPath('/').setQueryData(o).setFragment(m.getUnqualifiedURI().toString());k=m.toString();}if(l&&!(h.ie()<8)){j.replace(k);}else if(j.href==k){j.reload();}else j.href=k;}e.exports=i;});
__d("AjaxPipeRequest",["Arbiter","AsyncRequest","BigPipe","CSS","DOM","Env","PageletSet","ScriptPathState","URI","copyProperties","ge","goOrReplace"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncRequest'),i=b('BigPipe'),j=b('CSS'),k=b('DOM'),l=b('Env'),m=b('PageletSet'),n=b('ScriptPathState'),o=b('URI'),p=b('copyProperties'),q=b('ge'),r=b('goOrReplace'),s;function t(w,x){var y=q(w);if(!y)return;if(!x)y.style.minHeight='600px';var z=m.getPageletIDs();for(var aa=0;aa<z.length;aa++){var ba=z[aa];if(k.contains(y,ba))m.removePagelet(ba);}k.empty(y);g.inform('pagelet/destroy',{id:null,root:y});}function u(w,x){var y=q(w);if(y&&!x)y.style.minHeight='100px';}function v(w,x){this._uri=w;this._query_data=x;this._request=new h();this._canvas_id=null;this._allow_cross_page_transition=true;}v.prototype.setCanvasId=function(w){this._canvas_id=w;return this;};v.prototype.setURI=function(w){this._uri=w;return this;};v.prototype.setData=function(w){this._query_data=w;return this;};v.prototype.getData=function(w){return this._query_data;};v.prototype.setAllowCrossPageTransition=function(w){this._allow_cross_page_transition=w;return this;};v.prototype.setAppend=function(w){this._append=w;return this;};v.prototype.send=function(){var w={ajaxpipe:1,ajaxpipe_token:l.ajaxpipe_token};p(w,n.getParams());n.reset();this._request.setOption('useIframeTransport',true).setURI(this._uri).setData(p(w,this._query_data)).setPreBootloadHandler(this._preBootloadHandler.bind(this)).setInitialHandler(this._onInitialResponse.bind(this)).setHandler(this._onResponse.bind(this)).setMethod('GET').setReadOnly(true).setAllowCrossPageTransition(this._allow_cross_page_transition);if(this._automatic){this._relevantRequest=s;}else s=this._request;this._request.send();return this;};v.prototype._preBootloadFirstResponse=function(w){return false;};v.prototype._fireDomContentCallback=function(){this._arbiter.inform('ajaxpipe/domcontent_callback',true,g.BEHAVIOR_STATE);};v.prototype._fireOnloadCallback=function(){this._arbiter.inform('ajaxpipe/onload_callback',true,g.BEHAVIOR_STATE);};v.prototype._isRelevant=function(w){return this._request==s||(this._automatic&&this._relevantRequest==s)||this._jsNonBlock;};v.prototype._preBootloadHandler=function(w){var x=w.getPayload();if(!x||x.redirect||!this._isRelevant(w))return false;var y=false;if(w.is_first){!this._append&&!this._displayCallback&&t(this._canvas_id,this._constHeight);this._arbiter=new g();y=this._preBootloadFirstResponse(w);this.pipe=new i({arbiter:this._arbiter,rootNodeID:this._canvas_id,lid:this._request.lid,isAjax:true,domContentCallback:this._fireDomContentCallback.bind(this),onloadCallback:this._fireOnloadCallback.bind(this),domContentEvt:'ajaxpipe/domcontent_callback',onloadEvt:'ajaxpipe/onload_callback',jsNonBlock:this._jsNonBlock,automatic:this._automatic,displayCallback:this._displayCallback});}return y;};v.prototype._redirect=function(w){if(w.redirect){if(w.force||!this.isPageActive(w.redirect)){var x=['ajaxpipe','ajaxpipe_token'].concat(this.getSanitizedParameters());r(window.location,o(w.redirect).removeQueryData(x),true);}else{var y=a.PageTransitions;y.go(w.redirect,true);}return true;}else return false;};v.prototype.isPageActive=function(w){return true;};v.prototype.getSanitizedParameters=function(){return [];};v.prototype._versionCheck=function(w){return true;};v.prototype._onInitialResponse=function(w){var x=w.getPayload();if(!this._isRelevant(w))return false;if(!x)return true;if(this._redirect(x)||!this._versionCheck(x))return false;return true;};v.prototype._processFirstResponse=function(w){var x=w.getPayload();if(q(this._canvas_id)&&x.canvas_class!=null)j.setClass(this._canvas_id,x.canvas_class);};v.prototype.setFirstResponseCallback=function(w){this._firstResponseCallback=w;return this;};v.prototype.setFirstResponseHandler=function(w){this._processFirstResponse=w;return this;};v.prototype._onResponse=function(w){var x=w.payload;if(!this._isRelevant(w))return h.suppressOnloadToken;if(w.is_first){this._processFirstResponse(w);this._firstResponseCallback&&this._firstResponseCallback();x.provides=x.provides||[];x.provides.push('uipage_onload');if(this._append)x.append=this._canvas_id;}if(x){if('content' in x.content&&this._canvas_id!==null&&this._canvas_id!='content'){x.content[this._canvas_id]=x.content.content;delete x.content.content;}this.pipe.onPageletArrive(x);}if(w.is_last)u(this._canvas_id,this._constHeight);return h.suppressOnloadToken;};v.prototype.setNectarModuleDataSafe=function(w){this._request.setNectarModuleDataSafe(w);return this;};v.prototype.setFinallyHandler=function(w){this._request.setFinallyHandler(w);return this;};v.prototype.setErrorHandler=function(w){this._request.setErrorHandler(w);return this;};v.prototype.abort=function(){this._request.abort();if(s==this._request)s=null;this._request=null;return this;};v.prototype.setJSNonBlock=function(w){this._jsNonBlock=w;return this;};v.prototype.setAutomatic=function(w){this._automatic=w;return this;};v.prototype.setDisplayCallback=function(w){this._displayCallback=w;return this;};v.prototype.setConstHeight=function(w){this._constHeight=w;return this;};v.prototype.getAsyncRequest=function(){return this._request;};v.getCurrentRequest=function(){return s;};v.setCurrentRequest=function(w){s=w;};e.exports=v;});
__d("CSSClassTransition",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=[];function i(){}g(i,{go:function(j,k,l,m){var n;for(var o=0;o<h.length;o++)if(h[o](j,k,l,m)===true)n=true;if(!n)j.className=k;},registerHandler:function(j){h.push(j);return {remove:function(){var k=h.indexOf(j);if(k>=0)h.splice(k,1);}};}});e.exports=i;});
__d("Badge",["CSS","DOM","cx"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('cx'),j=function(k,l){var m;switch(k){case 'xsmall':m="_5dzy _5dzz";break;case 'small':m="_5dzy _5dz-";break;case 'medium':m="_5dzy _5dz_";break;case 'large':m="_5dzy _5d-0";break;case 'xlarge':m="_5dzy _5d-1";break;}if(m){var n=h.create('span',{className:m});if(l==='verified'){g.addClass(n,"_56_f");}else return null;return n;}return null;};e.exports=j;});
__d("BasicTypeaheadRenderer",["Badge","DOM"],function(a,b,c,d,e,f){var g=b('Badge'),h=b('DOM');function i(j,k){var l=[];if(j.icon)l.push(h.create('img',{alt:'',src:j.icon}));if(j.text){var m=[j.text];if(j.verified)m.push(g('xsmall','verified'));l.push(h.create('span',{className:'text'},m));}if(j.subtext)l.push(h.create('span',{className:'subtext'},[j.subtext]));var n=h.create('li',{className:j.type||''},l);if(j.text)n.setAttribute('aria-label',j.text);return n;}i.className='basic';e.exports=i;});
__d("TypeaheadView",["ArbiterMixin","BasicTypeaheadRenderer","CSS","DOM","Event","Parent","$","copyProperties","emptyFunction","mixin"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('BasicTypeaheadRenderer'),i=b('CSS'),j=b('DOM'),k=b('Event'),l=b('Parent'),m=b('$'),n=b('copyProperties'),o=b('emptyFunction'),p=b('mixin'),q=p(g);for(var r in q)if(q.hasOwnProperty(r)&&r!=="_metaprototype")t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u,v){this.element=this.content=m(u);this.showBadges=v.showBadges;n(this,v);}t.prototype.init=function(){this.init=o;this.initializeEvents();this.reset();};t.prototype.initializeEvents=function(){k.listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)});};t.prototype.setTypeahead=function(u){this.typeahead=u;};t.prototype.setAccessibilityControlElement=function(u){this.accessibilityElement=u;};t.prototype.getElement=function(){return this.element;};t.prototype.mouseup=function(event){if(event.button!=2){this.select(true);event.kill();}};t.prototype.mouseover=function(event){if(this.ignoreMouseover){this.ignoreMouseover=false;return;}if(this.visible)this.highlight(this.getIndex(event));};t.prototype.reset=function(u){if(!u)this.disableAutoSelect=false;this.justRendered=false;this.justShown=false;this.index=-1;this.items=[];this.results=[];this.value='';this.content.innerHTML='';this.inform('reset');return this;};t.prototype.getIndex=function(event){return this.items.indexOf(l.byTag(event.getTarget(),'li'));};t.prototype.getSelection=function(){var u=this.results[this.index]||null;return this.visible?u:null;};t.prototype.isEmpty=function(){return !this.results.length;};t.prototype.isVisible=function(){return !!this.visible;};t.prototype.show=function(){i.show(this.element);if(this.results&&this.results.length)if(this.autoSelect&&this.accessibilityElement&&this.selected)this.accessibilityElement.setAttribute('aria-activedescendant',j.getID(this.selected));this.accessibilityElement&&this.accessibilityElement.setAttribute('aria-expanded','true');this.visible=true;return this;};t.prototype.hide=function(){i.hide(this.element);if(this.accessibilityElement){this.accessibilityElement.setAttribute('aria-expanded','false');this.accessibilityElement.removeAttribute('aria-activedescendant');}this.visible=false;return this;};t.prototype.render=function(u,v){this.value=u;if(!v.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.reset(true);return;}this.justRendered=true;if(!this.results.length)this.justShown=true;var w={results:v,value:u};this.inform('beforeRender',w);v=w.results;var x=this.getDefaultIndex(v);if(this.index>0&&this.index!==this.getDefaultIndex(this.results)){var y=this.results[this.index];for(var z=0,aa=v.length;z<aa;++z)if(y.uid==v[z].uid){x=z;break;}}this.results=v;j.setContent(this.content,this.buildResults(v));this.items=this.getItems();this.highlight(x,false);this.inform('render',v);};t.prototype.getItems=function(){return j.scry(this.content,'li');};t.prototype.buildResults=function(u){var v,w=null;if(typeof this.renderer=='function'){v=this.renderer;w=this.renderer.className||'';}else{v=a.TypeaheadRenderers[this.renderer];w=this.renderer;}v=v.bind(this);var x=this.showBadges,y=u.map(function(aa,ba){if(!x)aa.verified=null;var ca=aa.node||v(aa,ba);ca.setAttribute('role','option');return ca;}),z=j.create('ul',{className:w,id:'typeahead_list_'+(this.typeahead?j.getID(this.typeahead):j.getID(this.element))},y);z.setAttribute('role','listbox');return z;};t.prototype.getDefaultIndex=function(){var u=(this.autoSelect&&!this.disableAutoSelect);return this.index<0&&!u?-1:0;};t.prototype.next=function(){this.highlight(this.index+1);this.inform('next',this.selected);};t.prototype.prev=function(){this.highlight(this.index-1);this.inform('prev',this.selected);};t.prototype.getItemText=function(u){var v='';if(u){v=u.getAttribute('aria-label');if(!v){v=j.getText(u);u.setAttribute('aria-label',v);}}return v;};t.prototype.setIsViewingSelectedItems=function(u){this.viewingSelected=u;return this;};t.prototype.getIsViewingSelectedItems=function(){return !!this.viewingSelected;};t.prototype.highlight=function(u,v){var w=true;if(this.selected){i.removeClass(this.selected,'selected');this.selected.setAttribute('aria-selected','false');}if(u>this.items.length-1){u=-1;}else if(u<-1)u=this.items.length-1;if(u>=0&&u<this.items.length){if(this.selected&&this.getItemText(this.items[u])===this.getItemText(this.selected))w=false;this.selected=this.items[u];i.addClass(this.selected,'selected');this.selected.setAttribute('aria-selected','true');if(this.accessibilityElement)(function(){this.accessibilityElement.setAttribute('aria-activedescendant',j.getID(this.selected));}).bind(this).defer();}else this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.index=u;this.disableAutoSelect=(u==-1);var x=(u!==-1),y=this.getItemText(this.selected);if(u!==-1&&this.isVisible()&&y&&this.autoSelect)if(this.justShown){this.justRendered=false;this.justShown=false;x=false;}else if(w&&this.justRendered){this.justRendered=false;x=false;}if(v!==false)this.inform('highlight',{index:u,selected:this.results[u],element:this.selected});};t.prototype.select=function(u){var v=this.index,w=this.results[v],x=this.element.getAttribute('id');if(w){this.inform('select',{index:v,clicked:!!u,selected:w,id:x,query:this.value});this.inform('afterSelect');}};n(t.prototype,{events:['highlight','render','reset','select','beforeRender','next','prev'],renderer:h,autoSelect:false,ignoreMouseover:false});e.exports=t;});
__d("BucketedTypeaheadView",["DOM","TypeaheadView","tx"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('TypeaheadView'),i=b('tx');for(var j in h)if(h.hasOwnProperty(j)&&j!=="_metaprototype")l[j]=h[j];var k=h===null?null:h.prototype;l.prototype=Object.create(k);l.prototype.constructor=l;l.__superConstructor__=h;function l(){if(h!==null)h.apply(this,arguments);}l.prototype.render=function(m,n,o){n=this.buildBuckets(m,n);return k.render.call(this,m,n,o);};l.prototype.highlight=function(m,n){if(m==-1&&this.index!==0)m=this.index;while(m>=0&&m<this.items.length&&!this.isHighlightable(this.results[m]))m=m+1;k.highlight.call(this,m,n);};l.prototype.buildBuckets=function(m,n){if(!this.typeObjects||!n||!n.length)return n;var o=[],p={};for(var q=0;q<n.length;++q){var r=n[q],s=r.render_type||r.type;if(!p.hasOwnProperty(s)){p[s]=o.length;o.push([this.buildBucketHeader(s)]);}r.classNames=s;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;o[r.groupIndex].push(r);}for(s in this.typeObjects)if(!p.hasOwnProperty(s)&&this.typeObjects[s].show_always){p[s]=o.length;o.push([this.buildBucketHeader(s)]);r=this.buildNoResultsEntry();r.classNames=r.type;r.groupIndex=p[s];r.indexInGroup=o[r.groupIndex].length-1;o[r.groupIndex].push(r);}var t=[];if(this.typeObjectsOrder){for(var u=0;u<this.typeObjectsOrder.length;++u){var v=this.typeObjectsOrder[u];if(p.hasOwnProperty(v))t=t.concat(o[p[v]]);}}else for(var w=0;w<o.length;++w)t=t.concat(o[w]);return t;};l.prototype.buildNoResultsEntry=function(){return {uid:'disabled_result',type:'disabled_result',text:"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043d\u0435\u0442"};};l.prototype.buildBucketHeader=function(m){var n=this.typeObjects[m];if(n===undefined)throw new Error(m+" is undefined in "+JSON.stringify(this.typeObjects));if(n.markup){n.text=n.markup;delete n.markup;}return this.typeObjects[m];};l.prototype.buildResults=function(m){var n=k.buildResults.call(this,m);if(this.typeObjects){return g.create('div',{className:'bucketed'},[n]);}else return n;};l.prototype.isHighlightable=function(m){return m.type!='header'&&m.type!='disabled_result';};l.prototype.select=function(m){var n=this.results[this.index];if(n&&this.isHighlightable(n))k.select.call(this,m);};l.prototype.normalizeIndex=function(m){var n=this.results.length;if(n===0){return -1;}else if(m<-1){return (m%n)+n+1;}else if(m>=n){return (m%n)-1;}else return m;};l.prototype.getDefaultIndex=function(m){var n=(this.autoSelect&&!this.disableAutoSelect);if(this.index<0&&!n)return -1;if(m.length===0)return -1;var o=0;while(!this.isHighlightable(m)&&o<m.length)o++;return o;};l.prototype.prev=function(){var m=this.results[this.normalizeIndex(this.index-1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index-1);m=this.results[this.normalizeIndex(this.index-1)];}return k.prev.call(this);};l.prototype.next=function(){var m=this.results[this.normalizeIndex(this.index+1)];while(m&&!this.isHighlightable(m)){this.index=this.normalizeIndex(this.index+1);m=this.results[this.normalizeIndex(this.index+1)];}return k.next.call(this);};e.exports=l;});
__d("Locale",["Style"],function(a,b,c,d,e,f){var g=b('Style'),h,i={isRTL:function(){if(h===undefined)h=('rtl'===g.get(document.body,'direction'));return h;}};e.exports=i;});
__d("getOverlayZIndex",["Style"],function(a,b,c,d,e,f){var g=b('Style');function h(i,j){j=j||document.body;var k=[];while(i&&i!==j){k.push(i);i=i.parentNode;}if(i!==j)return 0;for(var l=k.length-1;l>=0;l--){var m=k[l];if(g.get(m,'position')!='static'){var n=parseInt(g.get(m,'z-index'),10);if(!isNaN(n))return n;}}return 0;}e.exports=h;});
__d("Dialog",["Animation","Arbiter","AsyncRequest","Bootloader","Button","ContextualThing","CSS","DOM","Event","Focus","Form","HTML","Keys","Locale","Parent","Run","Style","URI","UserAgent","Vector","bind","copyProperties","createArrayFrom","emptyFunction","getObjectValues","getOverlayZIndex","removeFromArray","shield","tx"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Arbiter'),i=b('AsyncRequest'),j=b('Bootloader'),k=b('Button'),l=b('ContextualThing'),m=b('CSS'),n=b('DOM'),o=b('Event'),p=b('Focus'),q=b('Form'),r=b('HTML'),s=b('Keys'),t=b('Locale'),u=b('Parent'),v=b('Run'),w=b('Style'),x=b('URI'),y=b('UserAgent'),z=b('Vector'),aa=b('bind'),ba=b('copyProperties'),ca=b('createArrayFrom'),da=b('emptyFunction'),ea=b('getObjectValues'),fa=b('getOverlayZIndex'),ga=b('removeFromArray'),ha=b('shield'),ia=b('tx'),ja=function(){var la=document.body,ma=document.createElement('div'),na=document.createElement('div');la.insertBefore(ma,la.firstChild);la.insertBefore(na,la.firstChild);ma.style.position='fixed';ma.style.top='20px';var oa=ma.offsetTop!==na.offsetTop;la.removeChild(ma);la.removeChild(na);ja=da.thatReturns(oa);return oa;};function ka(la){this._show_loading=true;this._auto_focus=true;this._submit_on_enter=false;this._fade_enabled=true;this._onload_handlers=[];this._top=125;this._uniqueID='dialog_'+ka._globalCount++;this._content=null;this._obj=null;this._popup=null;this._overlay=null;this._shim=null;this._causal_elem=null;this._previous_focus=null;this._buttons=[];this._buildDialog();if(la)this._setFromModel(la);ka._init();}ka.prototype.show=function(){this._showing=true;if(this._async_request){if(this._show_loading)this.showLoading();}else this._update();return this;};ka.prototype.showLoading=function(){this._loading=true;m.addClass(this._frame,'dialog_loading_shown');this._renderDialog();return this;};ka.prototype.hide=function(){if(!this._showing&&!this._loading)return this;this._showing=false;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}if(this._fade_enabled&&ka._stack.length<=1){this._fadeOut();}else this._hide();return this;};ka.prototype.cancel=function(){if(!this._cancelHandler||this._cancelHandler()!==false)this.hide();};ka.prototype.getRoot=function(){return this._obj;};ka.prototype.getBody=function(){return n.scry(this._obj,'div.dialog_body')[0];};ka.prototype.getButtonElement=function(la){if(typeof la=='string')la=ka._findButton(this._buttons,la);if(!la||!la.name)return null;var ma=n.scry(this._popup,'input'),na=function(oa){return oa.name==la.name;};return ma.filter(na)[0]||null;};ka.prototype.getContentNode=function(){return n.find(this._content,'div.dialog_content');};ka.prototype.getFormData=function(){return q.serialize(this.getContentNode());};ka.prototype.setAllowCrossPageTransition=function(la){this._cross_transition=la;return this;};ka.prototype.setAllowCrossQuicklingNavigation=function(la){this._cross_quickling=la;return this;};ka.prototype.setShowing=function(){this.show();return this;};ka.prototype.setHiding=function(){this.hide();return this;};ka.prototype.setTitle=function(la){var ma=this._nodes.title,na=this._nodes.title_inner,oa=this._nodes.content;n.setContent(na,this._format(la||''));m.conditionShow(ma,!!la);m.conditionClass(oa,'dialog_content_titleless',!la);return this;};ka.prototype.setBody=function(la){n.setContent(this._nodes.body,this._format(la));return this;};ka.prototype.setExtraData=function(la){this._extra_data=la;return this;};ka.prototype.setReturnData=function(la){this._return_data=la;return this;};ka.prototype.setShowLoading=function(la){this._show_loading=la;return this;};ka.prototype.setFullBleed=function(la){this._full_bleed=la;this._updateWidth();m.conditionClass(this._obj,'full_bleed',la);return this;};ka.prototype.setCausalElement=function(la){this._causal_elem=la;return this;};ka.prototype.setUserData=function(la){this._user_data=la;return this;};ka.prototype.getUserData=function(){return this._user_data;};ka.prototype.setAutohide=function(la){if(la){if(this._showing){this._autohide_timeout=setTimeout(ha(this.hide,this),la);}else this._autohide=la;}else{this._autohide=null;if(this._autohide_timeout){clearTimeout(this._autohide_timeout);this._autohide_timeout=null;}}return this;};ka.prototype.setSummary=function(la){var ma=this._nodes.summary;n.setContent(ma,this._format(la||''));m.conditionShow(ma,!!la);return this;};ka.prototype.setButtons=function(la){var ma,na;if(!(la instanceof Array)){ma=ca(arguments);}else ma=la;for(var oa=0;oa<ma.length;++oa)if(typeof ma[oa]=='string'){na=ka._findButton(ka._STANDARD_BUTTONS,ma[oa]);ma[oa]=na;}this._buttons=ma;var pa=[];if(ma&&ma.length>0)for(var qa=0;qa<ma.length;qa++){na=ma[qa];var ra=n.create('input',{type:'button',name:na.name||'',value:na.label}),sa=n.create('label',{className:'uiButton uiButtonLarge uiButtonConfirm'},ra);if(na.className){na.className.split(/\s+/).forEach(function(ua){m.addClass(sa,ua);});if(m.hasClass(sa,'inputaux')){m.removeClass(sa,'inputaux');m.removeClass(sa,'uiButtonConfirm');}if(m.hasClass(sa,'uiButtonSpecial'))m.removeClass(sa,'uiButtonConfirm');}if(na.icon)n.prependContent(sa,n.create('img',{src:na.icon,className:'img mrs'}));if(na.disabled)k.setEnabled(sa,false);o.listen(ra,'click',this._handleButton.bind(this,na.name));for(var ta in na)if(ta.indexOf('data-')===0&&ta.length>5)ra.setAttribute(ta,na[ta]);pa.push(sa);}n.setContent(this._nodes.buttons,pa);this._updateButtonVisibility();return this;};ka.prototype.setButtonsMessage=function(la){n.setContent(this._nodes.button_message,this._format(la||''));this._has_button_message=!!la;this._updateButtonVisibility();return this;};ka.prototype._updateButtonVisibility=function(){var la=this._buttons.length>0||this._has_button_message;m.conditionShow(this._nodes.button_wrapper,la);m.conditionClass(this._obj,'omitDialogFooter',!la);};ka.prototype.setClickButtonOnEnter=function(la,ma){this._clickOnEnterTarget=la;if(!this._clickOnEnterListener)this._clickOnEnterListener=o.listen(this._nodes.body,'keypress',function(event){var na=event.getTarget();if(na&&na.id===this._clickOnEnterTarget)if(o.getKeyCode(event)==s.RETURN){this._handleButton(ma);event.kill();}return true;}.bind(this));return this;};ka.prototype.setStackable=function(la,ma){this._is_stackable=la;this._shown_while_stacked=la&&ma;return this;};ka.prototype.setHandler=function(la){this._handler=la;return this;};ka.prototype.setCancelHandler=function(la){this._cancelHandler=ka.call_or_eval.bind(null,this,la);return this;};ka.prototype.setCloseHandler=function(la){this._close_handler=ka.call_or_eval.bind(null,this,la);return this;};ka.prototype.clearHandler=function(){return this.setHandler(null);};ka.prototype.setPostURI=function(la,ma){if(ma===undefined)ma=true;if(ma){this.setHandler(this._submitForm.bind(this,'POST',la));}else this.setHandler(function(){q.post(la,this.getFormData());this.hide();}.bind(this));return this;};ka.prototype.setGetURI=function(la){this.setHandler(this._submitForm.bind(this,'GET',la));return this;};ka.prototype.setModal=function(la){this._modal=la;m.conditionClass(this._obj,'generic_dialog_modal',la);return this;};ka.prototype.setSemiModal=function(la){if(la){this.setModal(true);this._semiModalListener=o.listen(this._obj,'click',function(ma){if(!n.contains(this._popup,ma.getTarget()))this.hide();}.bind(this));}else this._semiModalListener&&this._semiModalListener.remove();this._semi_modal=la;return this;};ka.prototype.setWideDialog=function(la){this._wide_dialog=la;this._updateWidth();return this;};ka.prototype.setContentWidth=function(la){this._content_width=la;this._updateWidth();return this;};ka.prototype.setTitleLoading=function(la){if(la===undefined)la=true;var ma=n.find(this._popup,'h2.dialog_title');if(ma)m.conditionClass(ma,'loading',la);return this;};ka.prototype.setSecure=function(la){m.conditionClass(this._nodes.title,'secure',la);return this;};ka.prototype.setClassName=function(la){la.split(/\s+/).forEach(m.addClass.bind(m,this._obj));return this;};ka.prototype.setFadeEnabled=function(la){this._fade_enabled=la;return this;};ka.prototype.setFooter=function(la){var ma=this._nodes.footer;n.setContent(ma,this._format(la||''));m.conditionShow(ma,!!la);return this;};ka.prototype.setAutoFocus=function(la){this._auto_focus=la;return this;};ka.prototype.setTop=function(la){this._top=la;this._resetDialogObj();return this;};ka.prototype.onloadRegister=function(la){ca(la).forEach(function(ma){if(typeof ma=='string')ma=new Function(ma);this._onload_handlers.push(ma.bind(this));}.bind(this));return this;};ka.prototype.setAsyncURL=function(la){return this.setAsync(new i(la));};ka.prototype.setAsync=function(la){var ma=function(ua){if(this._async_request!=la)return;this._async_request=null;var va=ua.getPayload(),wa=va;if(this._loading)this._showing=true;if(typeof wa=='string'){this.setBody(wa);}else this._setFromModel(wa);this._update();}.bind(this),na=la.getData();na.__d=1;la.setData(na);var oa=la.getHandler()||da;la.setHandler(function(ua){oa(ua);ma(ua);});var pa=la,qa=pa.getErrorHandler()||da,ra=pa.getTransportErrorHandler()||da,sa=function(){this._async_request=null;this._loading=false;if(this._showing&&this._shown_while_stacked){this._update();}else this._hide(this._is_stackable);}.bind(this),ta=pa.getServerDialogCancelHandler()||sa;pa.setAllowCrossPageTransition(this._cross_transition).setErrorHandler(function(ua){sa();qa(ua);}).setTransportErrorHandler(function(ua){sa();ra(ua);}).setServerDialogCancelHandler(ta);la.send();this._async_request=la;if(this._showing)this.show();return this;};ka.prototype._format=function(la){if(typeof la=='string'){la=r(la);}else la=r.replaceJSONWrapper(la);if(la instanceof r)la.setDeferred(true);return la;};ka.prototype._update=function(){if(!this._showing)return;if(this._autohide&&!this._async_request&&!this._autohide_timeout)this._autohide_timeout=setTimeout(aa(this,'hide'),this._autohide);m.removeClass(this._frame,'dialog_loading_shown');this._loading=false;this._renderDialog();this._runOnloads();this._previous_focus=document.activeElement;p.set(this._frame);};ka.prototype._runOnloads=function(){for(var la=0;la<this._onload_handlers.length;++la)try{this._onload_handlers[la]();}catch(ma){}this._onload_handlers=[];};ka.prototype._updateWidth=function(){var la=2*ka._BORDER_WIDTH;if(ka._isUsingCSSBorders())la+=2*ka._HALO_WIDTH;if(this._content_width){la+=this._content_width;if(!this._full_bleed)la+=2*ka._PADDING_WIDTH;}else if(this._wide_dialog){la+=ka.SIZE.WIDE;}else la+=ka.SIZE.STANDARD;this._popup.style.width=la+'px';};ka.prototype._updateZIndex=function(){if(!this._hasSetZIndex&&this._causal_elem){var la=fa(this._causal_elem),ma=this._causal_elem;while(!la&&(ma=l.getContext(ma)))la=fa(ma);this._hasSetZIndex=la>(this._modal?400:200);w.set(this._obj,'z-index',this._hasSetZIndex?la:'');}};ka.prototype._renderDialog=function(){this._updateZIndex();this._pushOntoStack();this._obj.style.height=(this._modal&&y.ie()<7)?z.getDocumentDimensions().y+'px':null;if(this._obj&&this._obj.style.display){this._obj.style.visibility='hidden';this._obj.style.display='';this.resetDialogPosition();this._obj.style.visibility='';this._obj.dialog=this;}else this.resetDialogPosition();clearInterval(this.active_hiding);this.active_hiding=setInterval(this._activeResize.bind(this),500);this._submit_on_enter=false;if(this._auto_focus){var la=q.getFirstElement(this._content,['input[type="text"]','textarea','input[type="password"]']);if(la){q.focusFirst.bind(this,this._content).defer();}else this._submit_on_enter=true;}var ma=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ka._bottoms.push(ma);this._bottom=ma;ka._updateMaxBottom();return this;};ka.prototype._buildDialog=function(){this._obj=n.create('div',{className:'generic_dialog',id:this._uniqueID});this._obj.style.display='none';n.appendContent(document.body,this._obj);if(!this._popup)this._popup=n.create('div',{className:'generic_dialog_popup'});this._obj.appendChild(this._popup);if(y.ie()<7&&!this._shim)j.loadModules(['IframeShim'],function(xa){this._shim=new xa(this._popup);});m.addClass(this._obj,'pop_dialog');if(t.isRTL())m.addClass(this._obj,'pop_dialog_rtl');var la;if(ka._isUsingCSSBorders()){la='<div class="pop_container_advanced">'+'<div class="pop_content" id="pop_content"></div>'+'</div>';}else la='<div class="pop_container">'+'<div class="pop_verticalslab"></div>'+'<div class="pop_horizontalslab"></div>'+'<div class="pop_topleft"></div>'+'<div class="pop_topright"></div>'+'<div class="pop_bottomright"></div>'+'<div class="pop_bottomleft"></div>'+'<div class="pop_content pop_content_old" id="pop_content"></div>'+'</div>';n.setContent(this._popup,r(la));var ma=n.find(this._popup,'div.pop_content');ma.setAttribute('tabIndex','0');ma.setAttribute('role','alertdialog');this._frame=this._content=ma;var na=n.create('div',{className:'dialog_loading'},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),oa=n.create('span'),pa=n.create('h2',{className:'dialog_title hidden_elem',id:'title_'+this._uniqueID},oa),qa=n.create('div',{className:'dialog_summary hidden_elem'}),ra=n.create('div',{className:'dialog_body'}),sa=n.create('div',{className:'rfloat mlm'}),ta=n.create('div',{className:'dialog_buttons_msg'}),ua=n.create('div',{className:'dialog_buttons clearfix hidden_elem'},[sa,ta]),va=n.create('div',{className:'dialog_footer hidden_elem'}),wa=n.create('div',{className:'dialog_content'},[qa,ra,ua,va]);this._nodes={summary:qa,body:ra,buttons:sa,button_message:ta,button_wrapper:ua,footer:va,content:wa,title:pa,title_inner:oa};n.setContent(this._frame,[pa,wa,na]);};ka.prototype._updateShim=function(){return this._shim&&this._shim.show();};ka.prototype._activeResize=function(){if(this.last_offset_height!=this._content.offsetHeight){this.last_offset_height=this._content.offsetHeight;this.resetDialogPosition();}};ka.prototype.resetDialogPosition=function(){if(!this._popup)return;this._resetDialogObj();this._updateShim();};ka.prototype._resetDialogObj=function(){var la=2*ka._PAGE_MARGIN,ma=z.getViewportDimensions(),na=ma.x-la,oa=ma.y-la,pa=2*ka._HALO_WIDTH,qa=z.getElementDimensions(this._content),ra=qa.x+pa,sa=qa.y+pa,ta=this._top,ua=na-ra,va=oa-sa;if(va<0){ta=ka._PAGE_MARGIN;}else if(ta>va)ta=ka._PAGE_MARGIN+(Math.max(va,0)/2);var wa=ja();if(!wa)ta+=z.getScrollPosition().y;w.set(this._popup,'marginTop',ta+'px');var xa=wa&&(ua<0||va<0);m.conditionClass(this._obj,'generic_dialog_fixed_overflow',xa);m.conditionClass(document.documentElement,'generic_dialog_overflow_mode',xa);};ka.prototype._fadeOut=function(la){if(!this._popup)return;try{new g(this._obj).duration(0).checkpoint().to('opacity',0).hide().duration(250).ondone(this._hide.bind(this,la)).go();}catch(ma){this._hide(la);}};ka.prototype._hide=function(la){if(this._obj)this._obj.style.display='none';m.removeClass(document.documentElement,'generic_dialog_overflow_mode');this._updateShim();clearInterval(this.active_hiding);if(this._bottom){var ma=ka._bottoms;ma.splice(ma.indexOf(this._bottom),1);ka._updateMaxBottom();}if(this._previous_focus&&document.activeElement&&n.contains(this._obj,document.activeElement))p.set(this._previous_focus);if(la)return;this.destroy();};ka.prototype.destroy=function(){this._popFromStack();clearInterval(this.active_hiding);if(this._obj){n.remove(this._obj);this._obj=null;this._shim&&this._shim.hide();this._shim=null;}this._clickOnEnterListener&&this._clickOnEnterListener.remove();if(this._close_handler)this._close_handler({return_data:this._return_data});};ka.prototype._handleButton=function(la){if(typeof la=='string')la=ka._findButton(this._buttons,la);var ma=ka.call_or_eval(la,la.handler);if(ma===false)return;if(la.name=='cancel'){this.cancel();}else if(ka.call_or_eval(this,this._handler,{button:la})!==false)this.hide();};ka.prototype._submitForm=function(la,ma,na){var oa=this.getFormData();if(na)oa[na.name]=na.label;if(this._extra_data)ba(oa,this._extra_data);var pa=new i().setURI(ma).setData(oa).setMethod(la).setNectarModuleDataSafe(this._causal_elem).setReadOnly(la=='GET');this.setAsync(pa);return false;};ka.prototype._setFromModel=function(la){var ma={};ba(ma,la);for(var na in ma){if(na=='onloadRegister'){this.onloadRegister(ma[na]);continue;}var oa=this['set'+na.substr(0,1).toUpperCase()+na.substr(1)];oa.apply(this,ca(ma[na]));}};ka.prototype._updateBottom=function(){var la=z.getElementDimensions(this._content).y+z.getElementPosition(this._content).y;ka._bottoms[ka._bottoms.length-1]=la;ka._updateMaxBottom();};ka.prototype._pushOntoStack=function(){var la=ka._stack;if(!la.length)h.inform('layer_shown',{type:'Dialog'});ga(la,this);la.push(this);for(var ma=la.length-2;ma>=0;ma--){var na=la[ma];if(!na._is_stackable&&!na._async_request){na._hide();}else if(!na._shown_while_stacked)na._hide(true);}};ka.prototype._popFromStack=function(){var la=ka._stack,ma=(la[la.length-1]===this);ga(la,this);if(la.length){if(ma)la[la.length-1].show();}else h.inform('layer_hidden',{type:'Dialog'});};ka._updateMaxBottom=function(){ka.max_bottom=Math.max.apply(Math,ka._bottoms);};ka._isUsingCSSBorders=function(){return y.ie()<7;};ka.newButton=function(la,ma,na,oa){var pa={name:la,label:ma};if(na)pa.className=na;if(oa)pa.handler=oa;return pa;};ka.getCurrent=function(){var la=ka._stack;return la.length?la[la.length-1]:null;};ka.hideCurrent=function(){var la=ka.getCurrent();la&&la.hide();};ka.bootstrap=function(la,ma,na,oa,pa,qa){ma=ma||{};ba(ma,new x(la).getQueryData());oa=oa||(na?'GET':'POST');var ra=u.byClass(qa,'stat_elem')||qa;if(ra&&m.hasClass(ra,'async_saving'))return false;var sa=new i().setReadOnly(!!na).setMethod(oa).setRelativeTo(qa).setStatusElement(ra).setURI(la).setNectarModuleDataSafe(qa).setData(ma),ta=new ka(pa).setCausalElement(qa).setAsync(sa);ta.show();return false;};ka.showFromModel=function(la,ma){var na=new ka(la).setCausalElement(ma).show();if(la.hiding)na.hide();};ka._init=function(){this._init=da;v.onLeave(ha(ka._tearDown,null,false));h.subscribe('page_transition',ha(ka._tearDown,null,true));o.listen(document.documentElement,'keydown',function(event){if(o.getKeyCode(event)==s.ESC&&!event.getModifiers().any){if(ka._escape())event.kill();}else if(o.getKeyCode(event)==s.RETURN&&!event.getModifiers().any)if(ka._enter())event.kill();});o.listen(window,'resize',function(event){var la=ka.getCurrent();la&&la._resetDialogObj();});};ka._findButton=function(la,ma){if(la)for(var na=0;na<la.length;++na)if(la[na].name==ma)return la[na];return null;};ka._tearDown=function(la){var ma=ka._stack.slice();for(var na=ma.length-1;na>=0;na--)if((la&&!ma[na]._cross_transition)||(!la&&!ma[na]._cross_quickling))ma[na].hide();};ka._escape=function(){var la=ka.getCurrent();if(!la)return false;var ma=la._semi_modal,na=la._buttons;if(!na.length&&!ma)return false;if(ma&&!na.length){la.hide();return true;}var oa,pa=ka._findButton(na,'cancel');if(la._cancelHandler){la.cancel();return true;}else if(pa){oa=pa;}else if(na.length==1){oa=na[0];}else return false;la._handleButton(oa);return true;};ka._enter=function(){var la=ka.getCurrent();if(!la||!la._submit_on_enter)return false;if(document.activeElement!=la._frame)return false;var ma=la._buttons;if(!ma)return false;la._handleButton(ma[0]);return true;};ka.call_or_eval=function(la,ma,na){if(!ma)return undefined;na=na||{};if(typeof ma=='string'){var oa=Object.keys(na).join(', ');ma=(eval)('({f: function('+oa+') { '+ma+'}})').f;}return ma.apply(la,ea(na));};ba(ka,{OK:{name:'ok',label:"\u041e\u041a"},CANCEL:{name:'cancel',label:"\u041e\u0442\u043c\u0435\u043d\u0430",className:'inputaux'},CLOSE:{name:'close',label:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"},NEXT:{name:'next',label:"\u0414\u0430\u043b\u0435\u0435"},SAVE:{name:'save',label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"},SUBMIT:{name:'submit',label:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"},CONFIRM:{name:'confirm',label:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c"},DELETE:{name:'delete',label:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},_globalCount:0,_bottoms:[0],max_bottom:0});ba(ka,{OK_AND_CANCEL:[ka.OK,ka.CANCEL],_STANDARD_BUTTONS:[ka.OK,ka.CANCEL,ka.CLOSE,ka.SAVE,ka.SUBMIT,ka.CONFIRM,ka.DELETE],SIZE:{WIDE:555,STANDARD:445},_HALO_WIDTH:10,_BORDER_WIDTH:1,_PADDING_WIDTH:10,_PAGE_MARGIN:40,_stack:[]});ba(ka.prototype,{_cross_quickling:false,_cross_transition:false,_loading:false,_showing:false});e.exports=ka;a.Dialog=ka;});
__d("LinkController",["Event","DataStore","Parent","trackReferrer"],function(a,b,c,d,e,f){var g=b('Event'),h=b('DataStore'),i=b('Parent'),j=b('trackReferrer'),k='LinkControllerHandler',l=[],m=[];function n(event){var r=i.byTag(event.getTarget(),'a'),s=r&&r.getAttribute('href',2);if(!s||r.rel||!p(s)||h.get(r,k))return;var t=g.listen(r,'click',function(u){if(s.charAt(s.length-1)=='#'){u.prevent();return;}j(r,s);o(r,u);});h.set(r,k,t);}function o(r,event){if(r.target||r.rel||event.getModifiers().any||(event.which&&event.which!=1))return;var s=l.concat(m);for(var t=0,u=s.length;t<u;t++)if(s[t](r,event)===false)return event.prevent();}function p(r){var s=r.match(/^(\w+):/);return !s||s[1].match(/^http/i);}var q={registerHandler:function(r){l.push(r);},registerFallbackHandler:function(r){m.push(r);}};g.listen(document.documentElement,'mousedown',n);g.listen(document.documentElement,'keydown',n);e.exports=q;});
__d("areEqual",[],function(a,b,c,d,e,f){var g=function(k,l,m,n){if(k===l)return k!==0||1/k==1/l;if(k==null||l==null)return false;if(typeof k!='object'||typeof l!='object')return false;var o=Object.prototype.toString,p=o.call(k);if(p!=o.call(l))return false;switch(p){case '[object String]':return k==String(l);case '[object Number]':return isNaN(k)||isNaN(l)?false:k==Number(l);case '[object Date]':case '[object Boolean]':return +k==+l;case '[object RegExp]':return k.source==l.source&&k.global==l.global&&k.multiline==l.multiline&&k.ignoreCase==l.ignoreCase;}var q=m.length;while(q--)if(m[q]==k)return n[q]==l;m.push(k);n.push(l);var r=0;if(p==='[object Array]'){r=k.length;if(r!==l.length)return false;while(r--)if(!g(k[r],l[r],m,n))return false;}else{if(k.constructor!==l.constructor)return false;if(k.hasOwnProperty('valueOf')&&l.hasOwnProperty('valueOf'))return k.valueOf()==l.valueOf();var s=Object.keys(k);if(s.length!=Object.keys(l).length)return false;for(var t=0;t<s.length;t++)if(!g(k[s[t]],l[s[t]],m,n))return false;}m.pop();n.pop();return true;},h=[],i=[],j=function(k,l){var m=h.length?h.pop():[],n=i.length?i.pop():[],o=g(k,l,m,n);m.length=0;n.length=0;h.push(m);i.push(n);return o;};e.exports=j;});
__d("computeRelativeURI",["URI","isEmpty"],function(a,b,c,d,e,f){var g=b('URI'),h=b('isEmpty');function i(k,l){if(!l)return k;if(l.charAt(0)=='/')return l;var m=k.split('/').slice(0,-1);m[0]!=='';l.split('/').forEach(function(n){if(!(n=='.'))if(n=='..'){if(m.length>1)m=m.slice(0,-1);}else m.push(n);});return m.join('/');}function j(k,l){var m=new g(),n=l;k=new g(k);l=new g(l);if(l.getDomain()&&!l.isFacebookURI())return n;var o=k,p=['Protocol','Domain','Port','Path','QueryData','Fragment'];p.forEach(function(q){var r=q=='Path'&&o===k;if(r)m.setPath(i(k.getPath(),l.getPath()));if(!h(l['get'+q]()))o=l;if(!r)m['set'+q](o['get'+q]());});return m;}e.exports=j;});
__d("escapeJSQuotes",[],function(a,b,c,d,e,f){function g(h){if(typeof h=='undefined'||h==null||!h.valueOf())return '';return h.toString().replace(/\\/g,'\\\\').replace(/\n/g,'\\n').replace(/\r/g,'\\r').replace(/"/g,'\\x22').replace(/'/g,'\\\'').replace(/</g,'\\x3c').replace(/>/g,'\\x3e').replace(/&/g,'\\x26');}e.exports=g;});
__d("htmlSpecialChars",[],function(a,b,c,d,e,f){var g=/&/g,h=/</g,i=/>/g,j=/"/g,k=/'/g;function l(m){if(typeof m=='undefined'||m===null||!m.toString)return '';if(m===false){return '0';}else if(m===true)return '1';return m.toString().replace(g,'&amp;').replace(j,'&quot;').replace(k,'&#039;').replace(h,'&lt;').replace(i,'&gt;');}e.exports=l;});
__d("htmlize",["htmlSpecialChars"],function(a,b,c,d,e,f){var g=b('htmlSpecialChars');function h(i){return g(i).replace(/\r\n|[\r\n]/g,'<br/>');}e.exports=h;});
__d("PageTransitions",["Arbiter","Dialog","DOMQuery","DOMScroll","Env","Event","Form","HistoryManager","JSLogger","LinkController","OnloadHooks","Parent","URI","UserAgent","Vector","areEqual","clickRefAction","computeRelativeURI","copyProperties","escapeJSQuotes","ge","goOrReplace","htmlize","setTimeoutAcrossTransitions","startsWith","tx","userAction"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Dialog'),i=b('DOMQuery'),j=b('DOMScroll'),k=b('Env'),l=b('Event'),m=b('Form'),n=b('HistoryManager'),o=b('JSLogger'),p=b('LinkController'),q=b('OnloadHooks'),r=b('Parent'),s=b('URI'),t=b('UserAgent'),u=b('Vector'),v=b('areEqual'),w=b('clickRefAction'),x=b('computeRelativeURI'),y=b('copyProperties'),z=b('escapeJSQuotes'),aa=b('ge'),ba=b('goOrReplace'),ca=b('htmlize'),da=b('setTimeoutAcrossTransitions'),ea=b('startsWith'),fa=b('tx'),ga=b('userAction'),ha={};function ia(ta,ua){ha[ta.getUnqualifiedURI()]=ua;}function ja(ta){return ha[ta.getUnqualifiedURI()];}function ka(ta){delete ha[ta.getUnqualifiedURI()];}var la=null,ma=null;function na(ta){ma=ta;da(function(){ma=null;},0);}function oa(event){if(ma){if(!event.isDefaultPrevented()){pa(ma);sa.lookBusy(ma);ra.go(ma.getAttribute('href'));}event.prevent();}else{la=event.getTarget();da(function(){la=null;},0);}}function pa(ta){var ua=ta.getAttribute('href'),va=x(ra._most_recent_uri.getQualifiedURI(),ua).toString();if(ua!=va)ta.setAttribute('href',va);}function qa(event){var ta=event.getTarget();if(m.getAttribute(ta,'rel')||m.getAttribute(ta,'target'))return;w('form',ta,event).set_namespace('page_transition');var ua=ga('page_transitions',ta,event,{mode:'DEDUP'}).uai_fallback(null,'form'),va=a.ArbiterMonitor;if(va)va.initUA(ua,[ta]);var wa=new s(m.getAttribute(ta,'action')||''),xa=x(ra._most_recent_uri,wa);ta.setAttribute('action',xa.toString());if((m.getAttribute(ta,'method')||'GET').toUpperCase()==='GET'){var ya=m.serialize(ta),za=la;if(za&&(i.isNodeOfType(za,'input')&&za.type==='submit'||(za=r.byTag(za,'button')))&&za.name)ya[za.name]=za.value;ra.go(xa.addQueryData(ya));event.kill();}}var ra={_transition_handlers:[],_scroll_locked:false,isInitialized:function(){return !!ra._initialized;},_init:function(){if(k.DISABLE_PAGE_TRANSITIONS)return;if(!k.ALLOW_TRANSITION_IN_IFRAME&&window!=window.top)return;if(ra._initialized)return ra;ra._initialized=true;var ta=s.getRequestURI(false),ua=ta.getUnqualifiedURI(),va=s(ua).setFragment(null),wa=ua.getFragment();if(wa.charAt(0)==='!'&&va.toString()===wa.substr(1))ua=va;y(ra,{_current_uri:ua,_most_recent_uri:ua,_next_uri:ua});var xa;if(ea(ta.getFragment(),'/')){xa=ta.getFragment();}else xa=ua;n.init().setCanonicalLocation('#'+xa).registerURIHandler(ra._historyManagerHandler);p.registerFallbackHandler(na);l.listen(document,'click',oa,l.Priority._BUBBLE);l.listen(document,'submit',qa,l.Priority._BUBBLE);l.listen(window,'scroll',function(){if(!ra._scroll_locked)ia(ra._current_uri,u.getScrollPosition());});return ra;},registerHandler:function(ta,ua){ra._init();ua=ua||5;if(!ra._transition_handlers[ua])ra._transition_handlers[ua]=[];ra._transition_handlers[ua].push(ta);},getCurrentURI:function(ta){if(!ra._current_uri&&!ta)return new s(ra._most_recent_uri);return new s(ra._current_uri);},getMostRecentURI:function(){return new s(ra._most_recent_uri);},getNextURI:function(){return new s(ra._next_uri);},go:function(ta,ua){var va=new s(ta).removeQueryData('quickling').getQualifiedURI();o.create('pagetransition').debug('go',{uri:va.toString()});ka(va);!ua&&w('uri',{href:va.toString()},null,'INDIRECT');sa.lookBusy();ra._loadPage(va,function(wa){if(wa){n.go(va.toString(),false,ua);}else ba(window.location,va,ua);});},_historyManagerHandler:function(ta){if(ta.charAt(0)!='/')return false;w('h',{href:ta});ga('page_transitions').uai(null,'history_manager');ra._loadPage(new s(ta),function(ua){if(!ua)ba(window.location,ta,true);});return true;},_loadPage:function(ta,ua){if(s(ta).getFragment()&&v(s(ta).setFragment(null).getQualifiedURI(),s(ra._current_uri).setFragment(null).getQualifiedURI()))if(ra.restoreScrollPosition(ta)){ra._current_uri=ra._most_recent_uri=ta;sa.stopLookingBusy();return;}var va;if(ra._current_uri)va=ja(ra._current_uri);ra._current_uri=null;ra._next_uri=ta;if(va)j.scrollTo(va,false);var wa=function(){ra._scroll_locked=true;var ya=ra._handleTransition(ta);ua&&ua(ya);},xa=q.runHooks('onbeforeleavehooks');if(xa){sa.stopLookingBusy();ra._warnBeforeLeaving(xa,wa);}else wa();},_handleTransition:function(ta){window.onbeforeleavehooks=undefined;sa.lookBusy();if(!ta.isSameOrigin())return false;var ua=window.AsyncRequest&&window.AsyncRequest.getLastID();g.inform("pre_page_transition",{from:ra.getMostRecentURI(),to:ta});for(var va=ra._transition_handlers.length-1;va>=0;--va){var wa=ra._transition_handlers[va];if(!wa)continue;for(var xa=wa.length-1;xa>=0;--xa)if(wa[xa](ta)===true){var ya={sender:this,uri:ta,id:ua};try{g.inform("page_transition",ya);}catch(za){}return true;}else wa.splice(xa,1);}return false;},unifyURI:function(){ra._current_uri=ra._most_recent_uri=ra._next_uri;},transitionComplete:function(ta){ra._executeCompletionCallback();sa.stopLookingBusy();ra.unifyURI();if(!ta)ra.restoreScrollPosition(ra._current_uri);try{if(document.activeElement&&document.activeElement.nodeName==='A')document.activeElement.blur();}catch(ua){}},_executeCompletionCallback:function(){if(ra._completionCallback)ra._completionCallback();ra._completionCallback=null;},setCompletionCallback:function(ta){ra._completionCallback=ta;},rewriteCurrentURI:function(ta,ua){ra.registerHandler(function(){if(ta==ra.getMostRecentURI().getUnqualifiedURI().toString()){ra.transitionComplete();return true;}});ra.go(ua,true);},_warnBeforeLeaving:function(ta,ua){new h().setTitle("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?").setBody(ca(ta)).setButtons([{name:'leave_page',label:"\u041f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",handler:ua},{name:'continue_editing',label:"\u041e\u0441\u0442\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435",className:'inputaux'}]).setModal(true).show();},restoreScrollPosition:function(ta){ra._scroll_locked=false;var ua=ja(ta);if(ua){j.scrollTo(ua,false);return true;}function va(ya){if(!ya)return null;var za="a[name='"+z(ya)+"']";return i.scry(document.body,za)[0]||aa(ya);}var wa=va(s(ta).getFragment());if(wa){var xa=u.getElementPosition(wa);xa.x=0;j.scrollTo(xa);return true;}return false;}},sa=window._BusyUIManager||{_looking_busy:false,_original_cursors:[],lookBusy:function(ta){if(ta)sa._giveProgressCursor(ta);if(sa._looking_busy)return;sa._looking_busy=true;sa._giveProgressCursor(document.documentElement);},stopLookingBusy:function(){if(!sa._looking_busy)return;sa._looking_busy=false;while(sa._original_cursors.length){var ta=sa._original_cursors.pop(),ua=ta[0],va=ta[1];if(ua.style)ua.style.cursor=va||'';}},_giveProgressCursor:function(ta){if(!t.webkit()){sa._original_cursors.push([ta,ta.style.cursor]);ta.style.cursor='progress';}}};e.exports=ra;a.PageTransitions=ra;});
__d("LayerHideOnTransition",["function-extensions","PageTransitions","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('PageTransitions'),h=b('copyProperties');function i(j){this._layer=j;}i.prototype.enable=function(){this._enabled=true;if(!this._subscribed){this._subscribe.bind(this).defer();this._subscribed=true;}};i.prototype.disable=function(){this._enabled=false;};i.prototype._subscribe=function(){g.registerHandler(function(){if(this._enabled)this._layer.hide();this._subscribed=false;}.bind(this));};h(i.prototype,{_enabled:false,_subscribed:false});e.exports=i;});
__d("SVGChecker",[],function(a,b,c,d,e,f){e.exports={isSVG:function(g){return !!g.ownerSVGElement||g.tagName.toLowerCase()==="svg";},isDisplayed:function(g){try{var i=g.getBBox();if(i&&(i.height===0||i.width===0))return false;}catch(h){return false;}return true;}};});
__d("ContextualLayer",["Arbiter","ARIA","ContextualThing","CSS","DataStore","DOM","Event","Layer","LayerHideOnTransition","Locale","Parent","Rect","Style","SVGChecker","Vector","arrayContains","copyProperties","emptyFunction","getOverlayZIndex","removeFromArray","throttle"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ARIA'),i=b('ContextualThing'),j=b('CSS'),k=b('DataStore'),l=b('DOM'),m=b('Event'),n=b('Layer'),o=b('LayerHideOnTransition'),p=b('Locale'),q=b('Parent'),r=b('Rect'),s=b('Style'),t=b('SVGChecker'),u=b('Vector'),v=b('arrayContains'),w=b('copyProperties'),x=b('emptyFunction'),y=b('getOverlayZIndex'),z=b('removeFromArray'),aa=b('throttle');function ba(ka){return ka.getPosition()==='left'||(ka.isVertical()&&ka.getAlignment()==='right');}function ca(ka){var la=ka.parentNode;if(la){var ma=s.get(la,'position');if(ma==='static'){if(la===document.body){la=document.documentElement;}else la=ca(la);}else return la;}else la=document.documentElement;return la;}for(var da in n)if(n.hasOwnProperty(da)&&da!=="_metaprototype")fa[da]=n[da];var ea=n===null?null:n.prototype;fa.prototype=Object.create(ea);fa.prototype.constructor=fa;fa.__superConstructor__=n;function fa(){if(n!==null)n.apply(this,arguments);}fa.prototype._configure=function(ka,la){ea._configure.call(this,ka,la);if(ka.context){this.setContext(ka.context);}else if(ka.contextID){this._setContextID(ka.contextID);}else if(ka.contextSelector)this._setContextSelector(ka.contextSelector);this.setPosition(ka.position);this.setAlignment(ka.alignment);this.setOffsetX(ka.offsetX);this.setOffsetY(ka.offsetY);this._content=la;};fa.prototype._getDefaultBehaviors=function(){return ea._getDefaultBehaviors.call(this).concat([o]);};fa.prototype._buildWrapper=function(ka,la){this._contentWrapper=l.create('div',{className:'uiContextualLayer'},la);return l.create('div',{className:'uiContextualLayerPositioner'},this._contentWrapper);};fa.prototype.getInsertParent=function(){var ka=this._insertParent;if(!ka){var la=this.getContext();if(la)ka=q.byClass(la,'uiContextualLayerParent');}return ka||ea.getInsertParent.call(this);};fa.prototype.setContent=function(ka){this._content=ka;l.setContent(this._contentWrapper,this._content);this._shown&&this.updatePosition();return this;};fa.prototype.setContext=function(ka){return this.setContextWithBounds(ka,null);};fa.prototype.setContextWithBounds=function(ka,la){this._contextNode=ka;this._contextBounds=la||null;this._contextSelector=this._contextScrollParent=null;if(this._shown){i.register(this.getRoot(),this._contextNode);this.updatePosition();}this._setParentSubscription();this.setARIAProperties();return this;};fa.prototype.shouldSetARIAProperties=function(ka){this._shouldSetARIAProperties=ka;return this;};fa.prototype.setARIAProperties=function(){if(this._shouldSetARIAProperties)h.setPopup(this.getCausalElement(),this.getRoot());return this;};fa.prototype._setContextID=function(ka){this._contextSelector='#'+ka;this._contextNode=null;};fa.prototype._setContextSelector=function(ka){this._contextSelector=ka;this._contextNode=null;};fa.prototype.getCausalElement=function(){return ea.getCausalElement.call(this)||this.getContext();};fa.prototype._setParentSubscription=function(){var ka=this.getContext(),la=null;while(ka!==null){la=k.get(ka,'layer');if(la)break;ka=ka.parentNode;}if(la===this._parentLayer)return;if(this._parentLayer&&this._parentSubscription){this._parentLayer.unsubscribe(this._parentSubscription);this._parentSubscription=null;}if(la)this._parentSubscription=la.subscribe('hide',this.hide.bind(this));this._parentLayer=la;};fa.prototype.setPosition=function(ka){if(this._getOrientation().setDefaultPosition(ka))this._shown&&this.updatePosition();return this;};fa.prototype.setAlignment=function(ka){if(this._getOrientation().setDefaultAlignment(ka))this._shown&&this.updatePosition();return this;};fa.prototype.setOffsetX=function(ka){if(this._getOrientation().setDefaultOffsetX(ka))this._shown&&this.updatePosition();return this;};fa.prototype.setOffsetY=function(ka){if(this._getOrientation().setDefaultOffsetY(ka))this._shown&&this.updatePosition();return this;};fa.prototype._getOrientation=function(){if(!this._orientation)this._orientation=new ja();return this._orientation;};fa.prototype.getContentRoot=function(){return this._contentWrapper;};fa.prototype.getContent=function(){return this._content;};fa.prototype.getContext=function(){if(!this._contextNode)this._contextNode=l.find(document,this._contextSelector);return this._contextNode;};fa.prototype.getContextBounds=function(ka){if(this._contextBounds)return this._contextBounds.convertTo(ka);var la=this.getContext();return r.newFromVectors(u.getElementPosition(la,ka),u.getElementDimensions(la));};fa.prototype.getContextScrollParent=function(){if(!this._contextScrollParent)this._contextScrollParent=s.getScrollParent(this.getContext());return this._contextScrollParent;};fa.prototype.setInsertParent=function(ka){this._insertScrollParent=null;return ea.setInsertParent.call(this,ka);};fa.prototype.getInsertScrollParent=function(){if(!this._insertScrollParent)this._insertScrollParent=s.getScrollParent(this.getInsertParent());return this._insertScrollParent;};fa.prototype.show=function(){if(this._shown)return this;ea.show.call(this);if(this._shown){i.register(this.getRoot(),this.getContext());ga.push(this);this._resizeListener=this._resizeListener||m.listen(window,'resize',aa(this.updatePosition.bind(this)));}return this;};fa.prototype.finishHide=function(){z(ga,this);this._resizeListener&&this._resizeListener.remove();this._resizeListener=null;return ea.finishHide.call(this);};fa.prototype.isFixed=function(){return (s.isFixed(this.getContext())&&!s.isFixed(this.getInsertParent()));};fa.prototype.updatePosition=function(){var ka=this.getContext();if(!ka)return false;var la=this.isFixed();if(!la&&!(ka.offsetParent||(t.isSVG(ka)&&t.isDisplayed(ka))))return false;var ma=this.getRoot();s.set(ma,'width',u.getViewportDimensions().x+'px');var na=this._getOrientation();this.inform('adjust',na.reset());if(!na.isValid())return false;this._updateWrapperPosition(na);this._updateWrapperClass(na);j.conditionClass(ma,'uiContextualLayerPositionerFixed',la);var oa,pa,qa=la?'viewport':'document',ra=la?document.documentElement:ca(ma);if(ra===document.documentElement){oa=new u(0,0);pa=document.documentElement.clientWidth;}else if(!ma.offsetParent){return false;}else{oa=u.getElementPosition(ra,qa);pa=ra.offsetWidth;if(ra!==document.body)oa=oa.sub(new u(ra.scrollLeft,ra.scrollTop));}var sa=this.getContextBounds(qa),ta=sa.l-oa.x,ua=sa.t-oa.y,va=sa.h(),wa=sa.w(),xa=p.isRTL();if(na.getPosition()==='below')ua+=va;if((na.getPosition()==='right'||(na.isVertical()&&na.getAlignment()==='right'))!=xa)ta+=wa;var ya=na.getOffsetX();if(na.isVertical()&&na.getAlignment()==='center')ya+=(wa-this.getContentRoot().offsetWidth)/2;if(xa)ya*=-1;var za='left',ab=Math.floor(ta+ya);if(ba(na)!==xa){za='right';ab=pa-ab;}s.set(ma,za,ab+'px');s.set(ma,za==='left'?'right':'left','');var bb=this.getInsertScrollParent(),cb;if(bb!==window){cb=bb.clientWidth;}else cb=document.documentElement.clientWidth;var db=u.getElementPosition(ma).x;if(za==='left'){if(cb-db>0){s.set(ma,'width',(cb-db)+'px');}else s.set(ma,'width','');}else s.set(ma,'width',db+ma.offsetWidth+'px');s.set(ma,'top',(ua+na.getOffsetY())+'px');var eb=y(ka,this.getInsertParent());s.set(ma,'z-index',eb>200?eb:'');this.inform('reposition',na);return true;};fa.prototype._updateWrapperPosition=function(ka){var la=ka.getPosition()==='above';s.set(this._contentWrapper,'bottom',la?'0':null);var ma=p.isRTL()?'left':'right',na=ba(ka);s.set(this._contentWrapper,ma,na?'0':null);};fa.prototype._updateWrapperClass=function(ka){var la=ka.getClassName();if(la===this._orientationClass)return;if(this._orientationClass)j.removeClass(this._contentWrapper,this._orientationClass);this._orientationClass=la;j.addClass(this._contentWrapper,la);};fa.prototype.simulateOrientation=function(ka,la){var ma=ka.getClassName();if(ma===this._orientationClass){return la();}else{if(this._orientationClass)j.removeClass(this._contentWrapper,this._orientationClass);j.addClass(this._contentWrapper,ma);var na=la();j.removeClass(this._contentWrapper,ma);if(this._orientationClass)j.addClass(this._contentWrapper,this._orientationClass);return na;}};fa.prototype.destroy=function(){ea.destroy.call(this);this._contentWrapper=null;this._content=null;return this;};var ga=[];g.subscribe('reflow',function(){ga.forEach(function(ka){if(ka.updatePosition()===false)ka.hide();});});w(fa.prototype,{_contentWrapper:null,_content:null,_contextNode:null,_contextBounds:null,_contextSelector:null,_parentLayer:null,_parentSubscription:null,_orientation:null,_orientationClass:null,_shouldSetARIAProperties:true});var ha=x.thatReturnsArgument,ia=x.thatReturnsArgument;function ja(){this._default={_position:'above',_alignment:'left',_offsetX:0,_offsetY:0,_valid:true};this.reset();}ja.prototype.setPosition=function(ka){this._position=ha(ka);return this;};ja.prototype.setAlignment=function(ka){this._alignment=ia(ka);return this;};ja.prototype.getOppositePosition=function(){return ja.OPPOSITE[this.getPosition()];};ja.prototype.invalidate=function(){this._valid=false;return this;};ja.prototype.getPosition=function(){return this._position||'above';};ja.prototype.getAlignment=function(){return this._alignment||'left';};ja.prototype.getOffsetX=function(){var ka=this._offsetX||0;if(!this.isVertical()){if(this._default._position!==this._position)ka*=-1;}else if(this._default._alignment!==this._alignment)ka*=-1;return ka;};ja.prototype.getOffsetY=function(){var ka=this._offsetY||0;if(this.isVertical()&&this._default._position!==this._position)ka*=-1;return ka;};ja.prototype.getClassName=function(){var ka=this.getAlignment(),la=this.getPosition();if(la==='below'){if(ka==='left'){return 'uiContextualLayerBelowLeft';}else if(ka==='right'){return 'uiContextualLayerBelowRight';}else return 'uiContextualLayerBelowCenter';}else if(la==='above'){if(ka==='left'){return 'uiContextualLayerAboveLeft';}else if(ka==='right'){return 'uiContextualLayerAboveRight';}else return 'uiContextualLayerAboveCenter';}else if(la==='left'){return 'uiContextualLayerLeft';}else return 'uiContextualLayerRight';};ja.prototype.isValid=function(){return this._valid;};ja.prototype.isVertical=function(){return this.getPosition()==='above'||this.getPosition()==='below';};ja.prototype.reset=function(ka,la){w(this,this._default);return this;};ja.prototype.setDefaultPosition=function(ka){var la=this._default._position;this._default._position=ha(ka);return la!==ka;};ja.prototype.setDefaultAlignment=function(ka){var la=this._default._alignment;this._default._alignment=ia(ka);return la!==ka;};ja.prototype.setDefaultOffsetX=function(ka){var la=this._default._offsetX;this._default._offsetX=ka;return la!==ka;};ja.prototype.setDefaultOffsetY=function(ka){var la=this._default._offsetY;this._default._offsetY=ka;return la!==ka;};ja.OPPOSITE={above:'below',below:'above',left:'right',right:'left'};e.exports=fa;});
__d("ContextualLayerDimensions",["DOM","Locale","Rect","Vector","ViewportBounds","ge","getOverlayZIndex"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Locale'),i=b('Rect'),j=b('Vector'),k=b('ViewportBounds'),l=b('ge'),m=b('getOverlayZIndex'),n={getViewportRect:function(o){var p=l('globalContainer'),q=o.getContext(),r=(p&&g.contains(p,q))||m(q)<300,s=i.getViewportBounds();if(r){s.t+=k.getTop();if(h.isRTL()){s.r-=k.getLeft();s.l+=k.getRight();}else{s.r-=k.getRight();s.l+=k.getLeft();}}return s;},getLayerRect:function(o,p){var q=o.getContextBounds('viewport'),r=o.simulateOrientation(p,function(){return j.getElementDimensions(o.getContent());}),s=q.t+p.getOffsetY();if(p.getPosition()==='above'){s-=r.y;}else if(p.getPosition()==='below')s+=q.b-q.t;var t=q.l+p.getOffsetX(),u=q.r-q.l;if(p.isVertical()){var v=p.getAlignment();if(v==='center'){t+=(u-r.x)/2;}else if((v==='right')!==h.isRTL())t+=u-r.x;}else if((p.getPosition()==='right')!==h.isRTL()){t+=u;}else t-=r.x;return new i(s,t+r.x,s+r.y,t,'viewport');}};e.exports=n;});
__d("ContextualLayerAutoFlip",["ContextualLayerDimensions","DOM","Vector","Rect","arrayContains","copyProperties"],function(a,b,c,d,e,f){var g=b('ContextualLayerDimensions'),h=b('DOM'),i=b('Vector'),j=b('Rect'),k=b('arrayContains'),l=b('copyProperties');function m(o,p){p=new j(p).convertTo(o.domain);var q=Math.max(o.l,p.l),r=Math.min(o.r,p.r);return Math.max(r-q,0);}function n(o){this._layer=o;}n.prototype.enable=function(){this._subscription=this._layer.subscribe('adjust',this._adjustOrientation.bind(this));if(this._layer.isShown())this._layer.updatePosition();};n.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._layer.updatePosition();};n.prototype._adjustOrientation=function(o,p){var q=this._getValidPositions(p);if(!q.length){p.invalidate();return;}var r=g.getViewportRect(this._layer),s=this._getValidAlignments(p),t,u,v;for(t=0;t<s.length;t++){p.setAlignment(s[t]);for(u=0;u<q.length;u++){p.setPosition(q[u]);v=g.getLayerRect(this._layer,p);if(r.contains(v))return;}}p.setPosition(k(q,'below')?'below':q[0]);var w,x=0,y=0;for(t=0;t<s.length;t++){p.setAlignment(s[t]);v=g.getLayerRect(this._layer,p);w=m(r,v);if(w>y){y=w;x=t;}}p.setAlignment(s[x]);};n.prototype._getValidPositions=function(o){var p=[o.getPosition(),o.getOppositePosition()],q=this._layer.getContextScrollParent();if(q===window||q===h.getDocumentScrollElement())return p;var r=this._layer.getContext(),s=i.getElementPosition(q,'viewport').y,t=i.getElementPosition(r,'viewport').y;if(o.isVertical()){return p.filter(function(v){if(v==='above'){return t>=s;}else{var w=s+q.offsetHeight,x=t+r.offsetHeight;return x<=w;}});}else{var u=s+q.offsetHeight;if(t>=s&&t+r.offsetHeight<=u){return p;}else return [];}};n.prototype._getValidAlignments=function(o){var p=['left','right','center'],q=o.getAlignment(),r=p.indexOf(q);if(r>0){p.splice(r,1);p.unshift(q);}return p;};l(n.prototype,{_subscription:null});e.exports=n;});
__d("ContextualLayerHideOnScroll",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}i.prototype.enable=function(){this._subscriptions=[this._layer.subscribe('contextchange',this._handleContextChange.bind(this)),this._layer.subscribe('show',this.attach.bind(this)),this._layer.subscribe('hide',this.detach.bind(this))];};i.prototype.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();};i.prototype.attach=function(){if(this._listener)return;var j=this._layer.getContextScrollParent();if(j===window)return;this._listener=g.listen(j,'scroll',this._layer.hide.bind(this._layer));};i.prototype.detach=function(){this._listener&&this._listener.remove();this._listener=null;};i.prototype._handleContextChange=function(){this.detach();if(this._layer.isShown())this.attach();};h(i.prototype,{_subscriptions:[]});e.exports=i;});
__d("ContextualTypeaheadView",["BucketedTypeaheadView","CSS","ContextualLayer","ContextualLayerAutoFlip","ContextualLayerHideOnScroll","DOM","DOMDimensions","Style"],function(a,b,c,d,e,f){var g=b('BucketedTypeaheadView'),h=b('CSS'),i=b('ContextualLayer'),j=b('ContextualLayerAutoFlip'),k=b('ContextualLayerHideOnScroll'),l=b('DOM'),m=b('DOMDimensions'),n=b('Style');for(var o in g)if(g.hasOwnProperty(o)&&o!=="_metaprototype")q[o]=g[o];var p=g===null?null:g.prototype;q.prototype=Object.create(p);q.prototype.constructor=q;q.__superConstructor__=g;function q(){if(g!==null)g.apply(this,arguments);}q.prototype.init=function(){this.initializeLayer();p.init.call(this);};q.prototype.initializeLayer=function(){this.context=this.getContext();this.wrapper=l.create('div');l.appendContent(this.wrapper,this.element);h.addClass(this.element,'uiContextualTypeaheadView');this.layer=new i({context:this.context,position:'below',alignment:this.alignment,causalElement:this.causalElement,permanent:true},this.wrapper);this.layer.enableBehavior(k);if(n.isFixed(this.context)||this.autoflip)this.layer.enableBehavior(j);this.subscribe('render',this.renderLayer.bind(this));};q.prototype.show=function(){if(this.minWidth){n.set(this.wrapper,'min-width',this.minWidth+'px');}else if(this.width){n.set(this.wrapper,'width',this.width+'px');}else n.set(this.wrapper,'width',m.getElementDimensions(this.context).width+'px');var r=p.show.call(this);this.layer.show();return r;};q.prototype.hide=function(){this.layer.hide();return p.hide.call(this);};q.prototype.renderLayer=function(){if(!this.isVisible())return;if(this.layer.isShown()){this.layer.updatePosition();}else this.layer.show();};q.prototype.clearText=function(){this.layer.getCausalElement().value='';};q.prototype.getContext=function(){return this.element.parentNode;};e.exports=q;});
__d("DOMClone",[],function(a,b,c,d,e,f){var g={shallowClone:function(i){return h(i,false);},deepClone:function(i){return h(i,true);}};function h(i,j){var k=i.cloneNode(j);if(typeof k.__FB_TOKEN!=='undefined')delete k.__FB_TOKEN;return k;}e.exports=g;});
__d("DialogHideOnSuccess",["CSS","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('copyProperties'),i=b('cx');function j(k){this._layer=k;}j.prototype.enable=function(){this._subscription=this._layer.subscribe('success',this._handle.bind(this));};j.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};j.prototype._handle=function(k,event){if(g.hasClass(event.getTarget(),"_s"))this._layer.hide();};h(j.prototype,{_subscription:null});e.exports=j;});
__d("DocumentTitle",["Arbiter"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=document.title,i=null,j=1500,k=[],l=0,m=null,n=false;function o(){if(k.length>0){if(!n){p(k[l].title);l=++l%k.length;}else q();}else{clearInterval(m);m=null;q();}}function p(s){document.title=s;n=true;}function q(){r.set(i||h,true);n=false;}var r={get:function(){return h;},set:function(s,t){document.title=s;if(!t){h=s;i=null;g.inform('update_title',s);}else i=s;},blink:function(s){var t={title:s};k.push(t);if(m===null)m=setInterval(o,j);return {stop:function(){var u=k.indexOf(t);if(u>=0){k.splice(u,1);if(l>u){l--;}else if(l==u&&l==k.length)l=0;}}};}};e.exports=r;});
__d("FileInput",["ArbiterMixin","DOM","DOMClone","Event","Focus","UserAgent","cx","mixin"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('DOM'),i=b('DOMClone'),j=b('Event'),k=b('Focus'),l=b('UserAgent'),m=b('cx'),n=l.ie(),o=b("mixin"),p=o(g);for(var q in p)if(p.hasOwnProperty(q)&&q!=="_metaprototype")s[q]=p[q];var r=p===null?null:p.prototype;s.prototype=Object.create(r);s.prototype.constructor=s;s.__superConstructor__=p;function s(t,u,v){this.container=t;this.control=u;var w=h.scry(this.container,'a')[0];w&&w.removeAttribute('href');var x=h.create('div',{className:"_3jk"},v);h.appendContent(this.control,x);this._boundHandleChange=this._handleChange.bind(this);this._setInputElement(v);}s.prototype.getValue=function(){return this.input.value;};s.prototype.getInput=function(){return this.input;};s.prototype.clear=function(){if(n){var t=i.deepClone(this.input);h.replace(this.input,t);this._setInputElement(t);}else{this.input.value='';this.input.files=null;}};s.prototype.destroy=function(){this._listener.remove();this._listener=null;this.container=null;this.control=null;this.input=null;};s.prototype._setInputElement=function(t){this.input=t;k.relocate(t,this.control);this._listener&&this._listener.remove();this._listener=j.listen(t,'change',this._boundHandleChange);};s.prototype._handleChange=function(event){this.inform('change',event);var t=this.input.form;if(t&&n<9)j.fire(t,'change',event);};e.exports=s;});
__d("FullScreen",["Event","Arbiter","CSS","UserAgent","copyProperties","throttle"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('CSS'),j=b('UserAgent'),k=b('copyProperties'),l=b('throttle'),m={},n=k(new h(),{listenForEvent:function(p){var q=l(this.onChange,0,this);if(!m[p.id]){m[p.id]=true;g.listen(p,{webkitfullscreenchange:q,mozfullscreenchange:q,fullscreenchange:q});}},enableFullScreen:function(p){this.listenForEvent(p);if(p.webkitRequestFullScreen){if(j.chrome()){p.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);}else p.webkitRequestFullScreen();}else if(p.mozRequestFullScreen){p.mozRequestFullScreen();}else if(p.requestFullScreen){p.requestFullScreen();}else return false;return true;},disableFullScreen:function(){if(document.webkitCancelFullScreen){document.webkitCancelFullScreen();}else if(document.mozCancelFullScreen){document.mozCancelFullScreen();}else if(document.cancelFullScreen){document.cancelFullScreen();}else if(document.exitFullScreen){document.exitFullScreen();}else return false;return true;},isFullScreen:function(){return (document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen);},toggleFullScreen:function(p){if(this.isFullScreen()){this.disableFullScreen();return false;}else return this.enableFullScreen(p);return false;},onChange:function(){var p=this.isFullScreen();i.conditionClass(document.body,'fullScreen',p);this.inform('changed');},isSupported:function(){return (document.webkitCancelFullScreen&&j.chrome())||document.mozCancelFullScreen||document.cancelFullScreen||document.exitFullScreen;}}),o=l(n.onChange,0,n);g.listen(document,{webkitfullscreenchange:o,mozfullscreenchange:o,fullscreenchange:o});e.exports=n;});
__d("MenuDeprecated",["Event","Arbiter","CSS","DataStore","DOM","HTML","Keys","Parent","Style","UserAgent","copyProperties","emptyFunction","Run"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Arbiter'),i=b('CSS'),j=b('DataStore'),k=b('DOM'),l=b('HTML'),m=b('Keys'),n=b('Parent'),o=b('Style'),p=b('UserAgent'),q=b('copyProperties'),r=b('emptyFunction'),s='menu:mouseover',t=null;function u(ea){if(i.hasClass(ea,'uiMenuContainer'))return ea;return n.byClass(ea,'uiMenu');}function v(ea){return n.byClass(ea,'uiMenuItem');}function w(ea){if(document.activeElement){var fa=v(document.activeElement);return ea.indexOf(fa);}return -1;}function x(ea){return k.find(ea,'a.itemAnchor');}function y(ea){return i.hasClass(ea,'checked');}function z(ea){return !i.hasClass(ea,'disabled')&&o.get(ea,'display')!=='none';}function aa(event){var ea=document.activeElement;if(!ea||!n.byClass(ea,'uiMenu')||!k.isInputNode(ea)){var fa=v(event.getTarget());fa&&da.focusItem(fa);}}function ba(ea){p.firefox()&&x(ea).blur();da.inform('select',{menu:u(ea),item:ea});}var ca=function(){ca=r;var ea={};ea.click=function(event){var fa=v(event.getTarget());if(fa&&z(fa)){ba(fa);var ga=x(fa),ha=ga.href,ia=ga.getAttribute('rel');return (ia&&ia!=='ignore')||(ha&&ha.charAt(ha.length-1)!=='#');}};ea.keydown=function(event){var fa=event.getTarget();if(event.getModifiers().any)return;if(!t||k.isInputNode(fa))return;var ga=g.getKeyCode(event),ha;switch(ga){case m.UP:case m.DOWN:var ia=da.getEnabledItems(t);ha=w(ia);da.focusItem(ia[ha+(ga===m.UP?-1:1)]);return false;case m.SPACE:var ja=v(fa);if(ja){ba(ja);event.prevent();}break;default:var ka=String.fromCharCode(ga).toLowerCase(),la=da.getEnabledItems(t);ha=w(la);var ma=ha,na=la.length;while((~ha&&(ma=++ma%na)!==ha)||(!~ha&&++ma<na)){var oa=da.getItemLabel(la[ma]);if(oa&&oa.charAt(0).toLowerCase()===ka){da.focusItem(la[ma]);return false;}}}};g.listen(document.body,ea);},da=q(new h(),{focusItem:function(ea){if(ea&&z(ea)){this._removeSelected(u(ea));i.addClass(ea,'selected');x(ea).focus();}},getEnabledItems:function(ea){return da.getItems(ea).filter(z);},getCheckedItems:function(ea){return da.getItems(ea).filter(y);},getItems:function(ea){return k.scry(ea,'li.uiMenuItem');},getItemLabel:function(ea){return ea.getAttribute('data-label',2)||'';},isItemChecked:function(ea){return i.hasClass(ea,'checked');},autoregister:function(ea,fa,ga){ea.subscribe('show',function(){da.register(fa,ga);});ea.subscribe('hide',function(){da.unregister(fa);});},register:function(ea,fa){ea=u(ea);ca();if(!j.get(ea,s))j.set(ea,s,g.listen(ea,'mouseover',aa));if(fa!==false)t=ea;},setItemEnabled:function(ea,fa){if(!fa&&!k.scry(ea,'span.disabledAnchor')[0])k.appendContent(ea,k.create('span',{className:k.find(ea,'a').className+' disabledAnchor'},l(x(ea).innerHTML)));i.conditionClass(ea,'disabled',!fa);},toggleItem:function(ea){var fa=!da.isItemChecked(ea);da.setItemChecked(ea,fa);},setItemChecked:function(ea,fa){i.conditionClass(ea,'checked',fa);x(ea).setAttribute('aria-checked',fa);},unregister:function(ea){ea=u(ea);var fa=j.remove(ea,s);fa&&fa.remove();t=null;this._removeSelected(ea);},_removeSelected:function(ea){da.getItems(ea).filter(function(fa){return i.hasClass(fa,'selected');}).forEach(function(fa){i.removeClass(fa,'selected');});}});e.exports=da;});
__d("PixelRatio",["Arbiter","Cookie","Run"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Cookie'),i=b('Run'),j='dpr',k,l;function m(){return window.devicePixelRatio||1;}function n(){h.set(j,m());}function o(){h.clear(j);}function p(){var r=m();if(r!==k){n();}else o();}var q={startDetecting:function(r){k=r||1;o();if(l)return;l=[g.subscribe('pre_page_transition',p)];i.onBeforeUnload(p);}};e.exports=q;});
__d("PostLoadJS",["Bootloader","Run","emptyFunction"],function(a,b,c,d,e,f){var g=b('Bootloader'),h=b('Run'),i=b('emptyFunction');function j(l,m){h.onAfterLoad(function(){g.loadModules.call(g,[l],m);});}var k={loadAndRequire:function(l){j(l,i);},loadAndCall:function(l,m,n){j(l,function(o){o[m].apply(o,n);});}};e.exports=k;});
__d("ControlledReferer",["Event","URI","UserAgent"],function(a,b,c,d,e,f){var g=b('Event'),h=b('URI'),i=b('UserAgent'),j={useFacebookReferer:function(k,l,m){var n=false;function o(){if(n)return;var q=k.contentWindow.location.pathname;if(q!=='/intern/common/referer_frame.php'&&q!=='/common/referer_frame.php')return;n=true;k.contentWindow.document.body.style.margin=0;l();}var p;if(document.domain!=='facebook.com'){p='/intern/common/referer_frame.php';}else if(i.opera()){p='/common/referer_frame.php';}else if(h().isSecure()){p='https://s-static.ak.facebook.com/common/referer_frame.php';}else p='http://static.ak.facebook.com/common/referer_frame.php';if(m)p+='?fb_source='+m;g.listen(k,'load',o);k.src=p;},useFacebookRefererHtml:function(k,l,m){j.useFacebookReferer(k,function(){k.contentWindow.document.body.innerHTML=l;},m);}};e.exports=j;});
__d("SoundRPC",["Event","SoundSynchronizer"],function(a,b,c,d,e,f){var g=b('Event'),h=b('SoundSynchronizer');function i(k,l,m){h.play(k,l,m);}var j={playLocal:i,playRemote:function(k,l,m,n){var o={paths:l,sync:m,loop:n};k.postMessage(JSON.stringify(o),'*');},supportsRPC:function(){return !!window.postMessage;},_listen:function(){g.listen(window,'message',function(k){if(!/\.facebook.com$/.test(k.origin))return;var l=JSON.parse(k.data);i(l.paths,l.sync,l.loop);});}};e.exports=j;});
__d("SubscriptionsHandler",["JSLogger"],function(a,b,c,d,e,f){var g=b('JSLogger'),h=g.create('subscriptions_handler');function i(j){this._name=j||'unnamed';this._subscriptions=[];}i.prototype.addSubscriptions=function(){if(this._subscriptions){Array.prototype.push.apply(this._subscriptions,arguments);}else{h.warn(this._name+'.subscribe_while_released');for(var j=0,k=arguments.length;j<k;j++)this._unsubscribe(arguments[j]);}};i.prototype.engage=function(){this._subscriptions=this._subscriptions||[];};i.prototype.release=function(){if(this._subscriptions)this._subscriptions.forEach(this._unsubscribe.bind(this));this._subscriptions=null;};i.prototype._unsubscribe=function(j){if(j.remove){j.remove();}else if(j.reset){j.reset();}else if(j.unsubscribe){j.unsubscribe();}else h.error(this._name+'.invalid',j);};e.exports=i;});
__d("Toggler",["Arbiter","ArbiterMixin","ContextualThing","CSS","DataStore","Dialog","DOM","DOMQuery","Event","Focus","Parent","TabbableElements","arrayContains","copyProperties","createArrayFrom","cx","emptyFunction","ge","getContextualParent","getObjectValues","mixin"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('ContextualThing'),j=b('CSS'),k=b('DataStore'),l=b('Dialog'),m=b('DOM'),n=b('DOMQuery'),o=b('Event'),p=b('Focus'),q=b('Parent'),r=b('TabbableElements'),s=b('arrayContains'),t=b('copyProperties'),u=b('createArrayFrom'),v=b('cx'),w=b('emptyFunction'),x=b('ge'),y=b('getContextualParent'),z=b('getObjectValues'),aa=[],ba,ca=b("mixin");function da(){da=w;o.listen(document.documentElement,'click',function(event){var ka=event.getTarget();aa.forEach(function(la){la.clickedTarget=ka;la.active&&!la.sticky&&!i.containsIncludingLayers(la.getActive(),ka)&&!la.inTargetFlyout(ka)&&la.inActiveDialog()&&!la.isIgnoredByModalLayer(ka)&&la.hide();});},o.Priority.URGENT);}var ea=ca(h);for(var fa in ea)if(ea.hasOwnProperty(fa)&&fa!=="_metaprototype")ha[fa]=ea[fa];var ga=ea===null?null:ea.prototype;ha.prototype=Object.create(ga);ha.prototype.constructor=ha;ha.__superConstructor__=ea;function ha(){this.active=null;this.togglers={};this.setSticky(false);aa.push(this);this.subscribe(['show','hide'],ha.inform.bind(ha));return da();}ha.prototype.show=function(ka){var la=ia(this,ka),ma=la.active;if(ka!==ma){ma&&la.hide();la.active=ka;j.addClass(ka,'openToggler');var na=m.scry(ka,'a[rel="toggle"]');if(na.length>0&&na[0].getAttribute('data-target'))j.removeClass(x(na[0].getAttribute('data-target')),'toggleTargetClosed');var oa=n.scry(ka,'.uiToggleFlyout')[0];if(oa){var pa=r.find(oa)[0]||oa;if(pa.tabIndex==-1)pa.tabIndex=0;p.setWithoutOutline(pa);}m.appendContent(ka,la.getToggler('next'));m.prependContent(ka,la.getToggler('prev'));la.inform('show',la);}};ha.prototype.hide=function(ka){var la=ia(this,ka),ma=la.active;if(ma&&(!ka||ka===ma)){j.removeClass(ma,'openToggler');var na=m.scry(ma,'a[rel="toggle"]');if(na.length>0&&na[0].getAttribute('data-target'))j.addClass(x(na[0].getAttribute('data-target')),'toggleTargetClosed');z(la.togglers).forEach(m.remove);la.inform('hide',la);la.active=null;}};ha.prototype.toggle=function(ka){var la=ia(this,ka);if(la.active===ka){la.hide();}else la.show(ka);};ha.prototype.getActive=function(){return ia(this).active;};ha.prototype.isShown=function(){return ia(this).active&&j.hasClass(ia(this).active,'openToggler');};ha.prototype.inTargetFlyout=function(ka){var la=ja(this.getActive());return la&&i.containsIncludingLayers(la,ka);};ha.prototype.inActiveDialog=function(){var ka=l.getCurrent();return !ka||m.contains(ka.getRoot(),this.getActive());};ha.prototype.isIgnoredByModalLayer=function(ka){return q.byClass(ka,"_3qw")&&!q.byClass(this.getActive(),"_3qw");};ha.prototype.getToggler=function(ka){var la=ia(this);if(!la.togglers[ka]){la.togglers[ka]=m.create('button',{className:'hideToggler',onfocus:function(){var ma=m.scry(la.active,'a[rel="toggle"]')[0];ma&&ma.focus();la.hide();}});la.togglers[ka].setAttribute('type','button');}return this.togglers[ka];};ha.prototype.setSticky=function(ka){var la=ia(this);ka=ka!==false;if(ka!==la.sticky){la.sticky=ka;if(ka){la.$Toggler0&&la.$Toggler0.unsubscribe();}else la.$Toggler0=g.subscribe('pre_page_transition',la.hide.bind(la,null));}return la;};ha.bootstrap=function(ka){var la=ka.parentNode;ha.getInstance(la).toggle(la);};ha.createInstance=function(ka){var la=new ha().setSticky(true);k.set(ka,'toggler',la);return la;};ha.destroyInstance=function(ka){k.remove(ka,'toggler');};ha.getInstance=function(ka){while(ka){var la=k.get(ka,'toggler');if(la)return la;if(j.hasClass(ka,'uiToggleContext'))return ha.createInstance(ka);ka=y(ka);}return (ba=ba||new ha());};ha.listen=function(ka,la,ma){return ha.subscribe(u(ka),function(na,oa){if(oa.getActive()===la)return ma(na,oa);});};t(ha,ha.prototype);t(ha,{subscribe:(function(ka){return function(la,ma){la=u(la);if(s(la,'show'))aa.forEach(function(na){if(na.getActive())ma.curry('show',na).defer();});return ka(la,ma);};})(ha.subscribe.bind(ha))});function ia(ka,la){if(ka instanceof ha)return ka;return ha.getInstance(la);}function ja(ka){var la=m.scry(ka,'a[rel="toggle"]');if(la.length>0&&la[0].getAttribute('data-target'))return x(la[0].getAttribute('data-target'));}e.exports=ha;});
__d("Tooltip",["Event","AsyncRequest","ContextualLayer","ContextualLayerAutoFlip","CSS","DataStore","DOM","Style","URI","copyProperties","emptyFunction","cx","tx"],function(a,b,c,d,e,f){var g=b('Event'),h=b('AsyncRequest'),i=b('ContextualLayer'),j=b('ContextualLayerAutoFlip'),k=b('CSS'),l=b('DataStore'),m=b('DOM'),n=b('Style'),o=b('URI'),p=b('copyProperties'),q=b('emptyFunction'),r=b('cx'),s=b('tx'),t=null,u=null,v=null,w=[],x;function y(){if(!u){v=m.create('div',{className:'tooltipContent'});var fa=m.create('i',{className:'arrow'}),ga=m.create('div',{className:'uiTooltipX'},[v,fa]);u=new i({},ga);u.shouldSetARIAProperties(false);u.enableBehavior(j);}}function z(fa){return p({content:fa.getAttribute('aria-label'),position:fa.getAttribute('data-tooltip-position')||'above',alignH:fa.getAttribute('data-tooltip-alignh')||'left'},l.get(fa,'tooltip'));}function aa(fa,ga){var ha=z(fa);l.set(fa,'tooltip',{content:ga.content||ha.content,position:ga.position||ha.position,alignH:ga.alignH||ha.alignH,suspend:ga.suspend||ha.suspend});fa.setAttribute('data-hover','tooltip');}function ba(fa,ga){ea.set(fa,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...");new h(ga).setHandler(function(ha){ea.set(fa,ha.getPayload());}).setErrorHandler(q).send();}var ca=/(\r\n|[\r\n])/;function da(fa){return fa.split(ca).map(function(ga){return ca.test(ga)?m.create('br'):ga;});}var ea={process:function(fa,ga){if(!m.contains(fa,ga))return;if(fa!==t&&!fa.getAttribute('data-tooltip-suspend')){var ha=fa.getAttribute('data-tooltip-uri');if(ha){fa.removeAttribute('data-tooltip-uri');ba(fa,ha);}ea.show(fa);}},remove:function(fa){l.remove(fa,'tooltip');fa.removeAttribute('data-hover');fa.removeAttribute('data-tooltip-position');fa.removeAttribute('data-tooltip-alignh');fa===t&&ea.hide();},suspend:function(fa){fa.setAttribute('data-tooltip-suspend',true);fa===t&&ea.hide();},unsuspend:function(fa){fa.removeAttribute('data-tooltip-suspend');},hide:function(){if(t){u.hide();t=null;while(w.length)w.pop().remove();}},set:function(fa,ga,ha,ia){if(ha||ia)aa(fa,{position:ha,alignH:ia});if(ga instanceof o){if(fa===t){ba(fa,ga);}else fa.setAttribute('data-tooltip-uri',ga);}else{if(typeof ga!=='string'){ga=m.create('div',{},ga);fa.setAttribute('aria-label',m.getText(ga));}else fa.setAttribute('aria-label',ga);aa(fa,{content:ga});fa===t&&ea.show(fa);}},show:function(fa){y();ea.hide();var ga=z(fa);if(!ga.content)return;var ha=0,ia=0;if(ga.position==='left'||ga.position==='right'){x=x||k.hasClass(document.body,"_6nw");var ja=x?28:20;ia=(fa.offsetHeight-ja)/2;}else if(ga.alignH!=='center'){var ka=fa.offsetWidth;if(ka<18)ha=(ka-18)/2*(ga.alignH==='right'?-1:1);}u.setContext(fa).setOffsetX(ha).setOffsetY(ia).setPosition(ga.position).setAlignment(ga.alignH);if(typeof ga.content==='string'){k.addClass(u.getRoot(),'invisible_elem');var la=m.create('span',{},da(ga.content)),ma=m.create('div',{className:'tooltipText'},la);m.setContent(v,ma);u.show();var na;if(ma.getClientRects){var oa=ma.getClientRects()[0];if(oa)na=Math.round(oa.right-oa.left);}if(!na)na=ma.offsetWidth;if(na<la.offsetWidth){k.addClass(ma,'tooltipWrap');u.updatePosition();}k.removeClass(u.getRoot(),'invisible_elem');}else{m.setContent(v,ga.content);u.show();}var pa=function(ra){if(!m.contains(t,ra.getTarget()))ea.hide();};w.push(g.listen(document.documentElement,'mouseover',pa),g.listen(document.documentElement,'focusin',pa));var qa=n.getScrollParent(fa);if(qa!==window)w.push(g.listen(qa,'scroll',ea.hide));w.push(g.listen(fa,'click',ea.hide));t=fa;}};g.listen(window,'scroll',ea.hide);e.exports=ea;});
__d("Typeahead",["ArbiterMixin","BehaviorsMixin","DataStore","DOM","Event","Parent","Run","emptyFunction","ge","mixin"],function(a,b,c,d,e,f){var g=b('ArbiterMixin'),h=b('BehaviorsMixin'),i=b('DataStore'),j=b('DOM'),k=b('Event'),l=b('Parent'),m=b('Run'),n=b('emptyFunction'),o=b('ge'),p=b('mixin'),q=p(g,h);for(var r in q)if(q.hasOwnProperty(r)&&r!=="_metaprototype")t[r]=q[r];var s=q===null?null:q.prototype;t.prototype=Object.create(s);t.prototype.constructor=t;t.__superConstructor__=q;function t(u,v,w,x){this.args={data:u,view:v,core:w};i.set(x,'Typeahead',this);this.element=x;}t.prototype.init=function(u){this.init=n;this.getCore();this.getView().setAccessibilityControlElement(this.getCore().getElement());this.proxyEvents();this.initBehaviors(u||[]);this.inform('init',this);this.data.bootstrap();this.core.focus();};t.prototype.getData=function(){if(!this.data){var u=this.args.data;this.data=u;this.data.init();}return this.data;};t.prototype.getView=function(){if(!this.view){var u=this.args.view,v=u.node||o(u.node_id);if(!v){v=j.create('div',{className:'uiTypeaheadView'});j.appendContent(this.element,v);}if(typeof u.ctor==='string'){this.view=new window[u.ctor](v,u.options||{});}else this.view=new u.ctor(v,u.options||{});this.view.init();this.view.setTypeahead(this.element);}return this.view;};t.prototype.getCore=function(){if(!this.core){var u=this.args.core;if(typeof u.ctor==='string'){this.core=new window[u.ctor](u.options||{});}else this.core=new u.ctor(u.options||{});this.core.init(this.getData(),this.getView(),this.getElement());}return this.core;};t.prototype.getElement=function(){return this.element;};t.prototype.swapData=function(u){var v=this.core;this.data=this.args.data=u;u.init();if(v){v.data=u;v.initData();v.reset();}u.bootstrap();return u;};t.prototype.proxyEvents=function(){[this.data,this.view,this.core].forEach(function(u){u.subscribe(u.events,this.inform.bind(this));},this);};t.prototype.initBehaviors=function(u){u.forEach(function(v){if(typeof v==='string'){if(a.TypeaheadBehaviors&&a.TypeaheadBehaviors[v]){a.TypeaheadBehaviors[v](this);}else m.onLoad(function(){if(a.TypeaheadBehaviors)(a.TypeaheadBehaviors[v]||n)(this);}.bind(this));}else this.enableBehavior(v);},this);};t.getInstance=function(u){var v=l.byClass(u,'uiTypeahead');return v?i.get(v,'Typeahead'):null;};t.initNow=function(u,v,w){if(w)w.init(u);u.init(v);};t.init=function(u,v,w,x){if(!j.isNodeOfType(u,['input','textarea']))u=j.scry(u,'input')[0]||j.scry(u,'textarea')[0];var y=false;try{y=document.activeElement===u;}catch(z){}if(y){t.initNow(v,w,x);}else var aa=k.listen(u,'focus',function(){t.initNow(v,w,x);aa.remove();});};e.exports=t;});
__d("StickyPlaceholderInput",["Event","CSS","DOM","Input","Parent","emptyFunction"],function(a,b,c,d,e,f){var g=b('Event'),h=b('CSS'),i=b('DOM'),j=b('Input'),k=b('Parent'),l=b('emptyFunction');function m(q){return k.byClass(q,'uiStickyPlaceholderInput');}function n(q){return i.scry(q,'.placeholder')[0];}function o(q){q=q||window.event;var r=q.target||q.srcElement;if(i.isNodeOfType(r,['input','textarea'])){var s=m(r);if(s)(function(){h.conditionClass(s,'uiStickyPlaceholderEmptyInput',!r.value.length);}).defer();}}var p={init:function(){p.init=l;g.listen(document.documentElement,{keydown:o,paste:o,focusout:o});},registerInput:function(q){p.init();var r=q.getAttribute('placeholder')||'';if(r.length)if(document.activeElement===q){var s=g.listen(q,'blur',function(){p.manipulateInput(q,r);s.remove();});}else p.manipulateInput(q,r);},manipulateInput:function(q,r){var s=i.create('div',{className:'placeholder','aria-hidden':'true'},r),t=i.create('div',{className:'uiStickyPlaceholderInput'},s);if(i.isNodeOfType(q,'textarea'))h.addClass(t,'uiStickyPlaceholderTextarea');g.listen(s,'click',function(){q.focus();});if(q.value===r)q.value='';h.removeClass(q,'DOMControl_placeholder');q.setAttribute('placeholder','');i.replace(q,t);i.appendContent(t,q);h.conditionClass(t,'uiStickyPlaceholderEmptyInput',!q.value.length);},setPlaceholderText:function(q,r){var s=m(q);if(!s){j.setPlaceholder(q,r);}else{var t=n(s);t&&i.setContent(t,r);}},getPlaceholderText:function(q){var r=m(q),s=n(r);return s&&i.getText(s);},update:function(q){var r=m(q);if(r)h.conditionClass(r,'uiStickyPlaceholderEmptyInput',!q.value.length);},getVisibleText:function(q){var r=m(q);if(h.hasClass(r,'uiStickyPlaceholderEmptyInput')){var s=n(r);return s&&i.getText(s);}else return q.value;}};e.exports=p;});
__d("TypeaheadCore",["Arbiter","ArbiterMixin","CSS","DOM","Event","Focus","Input","InputSelection","Keys","StickyPlaceholderInput","UserAgent","bind","copyProperties","emptyFunction","mixin"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('CSS'),j=b('DOM'),k=b('Event'),l=b('Focus'),m=b('Input'),n=b('InputSelection'),o=b('Keys'),p=b('StickyPlaceholderInput'),q=b('UserAgent'),r=b('bind'),s=b('copyProperties'),t=b('emptyFunction'),u=b('mixin'),v=u(h);for(var w in v)if(v.hasOwnProperty(w)&&w!=="_metaprototype")y[w]=v[w];var x=v===null?null:v.prototype;y.prototype=Object.create(x);y.prototype.constructor=y;y.__superConstructor__=v;function y(z){s(this,z);}y.prototype.init=function(z,aa,ba){this.init=t;this.data=z;this.view=aa;this.root=ba;this.initInput();this.inputWrap=j.find(ba,'div.wrap');this.hiddenInput=j.find(ba,'input.hiddenInput');this.value='';this.nextQuery=null;this.selectedText=null;if(this.setValueOnSelect&&i.hasClass(this.inputWrap,'selected'))this.selectedText=this.getValue();this.initView();this.initData();this.initEvents();this.initToggle();this._exclusions=[];};y.prototype.initInput=function(){this.element=j.find(this.root,'.textInput');var z=j.scry(this.element,'input')[0];if(z)this.element=z;};y.prototype.initView=function(){this.view.subscribe('highlight',l.set.curry(this.element));this.view.subscribe('select',function(z,aa){this.select(aa.selected);}.bind(this));this.view.subscribe('afterSelect',function(){this.afterSelect();}.bind(this));};y.prototype.initData=function(){this.data.subscribe('respond',function(z,aa){if(aa.forceDisplay||aa.value==this.getValue()&&!this.element.disabled)this.view.render(aa.value,aa.results,aa.isAsync);}.bind(this));this.data.subscribe('activity',function(z,aa){this.fetching=aa.activity;if(!this.fetching)this.nextQuery&&this.performQuery();if(this.loading!=this.fetching){this.loading=this.fetching;this.inform('loading',{loading:this.loading});}}.bind(this));};y.prototype.initEvents=function(){k.listen(this.view.getElement(),{mouseup:this.viewMouseup.bind(this),mousedown:this.viewMousedown.bind(this)});var z={blur:r(this,'blur'),focus:r(this,'focus'),click:r(this,'click'),keyup:r(this,'keyup'),keydown:r(this,'keydown')};if(q.firefox())z.text=z.keyup;if(q.firefox()<4){z.keypress=z.keydown;delete z.keydown;}k.listen(this.element,z);k.listen(this.element,'keypress',r(this,'keypress'));};y.prototype.initToggle=function(){this.subscribe('blur',this.view.hide.bind(this.view));this.subscribe('focus',this.view.show.bind(this.view));};y.prototype.viewMousedown=function(){this.selecting=true;};y.prototype.viewMouseup=function(){this.selecting=false;};y.prototype.blur=function(){if(this.selecting){this.selecting=false;return;}this.inform('blur');};y.prototype.click=function(){var z=n.get(this.element);if(z.start==z.end)this.element.select();this.inform('click');};y.prototype.focus=function(){this.checkValue();this.inform('focus');};y.prototype.keyup=function(){if(this.resetOnKeyup&&!this.getValue())this.view.reset();this.checkValue();};y.prototype.keydown=function(event){if(!this.view.isVisible()||this.view.isEmpty()){this.checkValue.bind(this).defer();return;}switch(k.getKeyCode(event)){case o.TAB:this.handleTab(event);return;case o.UP:this.view.prev();break;case o.DOWN:this.view.next();break;case o.ESC:this.view.reset();break;default:this.checkValue.bind(this).defer();return;}event.kill();};y.prototype.keypress=function(event){if(this.view.getSelection()&&k.getKeyCode(event)==o.RETURN){this.view.select();event.kill();}};y.prototype.handleTab=function(event){if(this.preventFocusChangeOnTab)if(this.view.getSelection()){event.kill();}else event.prevent();this.view.select();};y.prototype.select=function(z){if(z&&this.setValueOnSelect){this.setValue(z.text);this.setHiddenValue(z.uid);this.selectedText=z.text;i.addClass(this.inputWrap,'selected');}};y.prototype.afterSelect=function(){this.keepFocused?l.set(this.element):this.element.blur();this.resetOnSelect?this.reset():this.view.reset();};y.prototype.unselect=function(){if(this.setValueOnSelect){this.selectedText=null;i.removeClass(this.inputWrap,'selected');}this.setHiddenValue();this.inform('unselect',this);};y.prototype.setEnabled=function(z){var aa=z===false;this.element.disabled=aa;i.conditionClass(this.root,'uiTypeaheadDisabled',aa);};y.prototype.reset=function(){this.unselect();this.setValue();!this.keepFocused&&m.reset(this.element);this.view.reset();this.inform('reset');};y.prototype.getElement=function(){return this.element;};y.prototype.setExclusions=function(z){this._exclusions=z.map(String);};y.prototype.getExclusions=function(){return this._exclusions;};y.prototype.setValue=function(z){this.value=this.nextQuery=z||'';m.setValue(this.element,this.value);p.update(this.element);};y.prototype.setHiddenValue=function(z){this.hiddenInput.value=(z||z===0)?z:'';g.inform('Form/change',{node:this.hiddenInput});};y.prototype.getValue=function(){return m.getValue(this.element);};y.prototype.getHiddenValue=function(){return this.hiddenInput.value||'';};y.prototype.checkValue=function(){var z=this.getValue();if(z==this.value)return;if(this.selectedText&&this.selectedText!=z)this.unselect();var aa=Date.now(),ba=aa-this.time;this.time=aa;this.value=this.nextQuery=z;this.performQuery(ba);};y.prototype.performQuery=function(z){if(this.selectedText)return;z=z||0;if(this.fetching&&z<this.queryTimeout){this.data.query(this.nextQuery,true,this._exclusions,z);}else{this.data.query(this.nextQuery,false,this._exclusions,z);this.nextQuery=null;}};s(y.prototype,{events:['blur','focus','click','unselect','loading'],keepFocused:true,resetOnSelect:false,resetOnKeyup:true,setValueOnSelect:false,queryTimeout:250,preventFocusChangeOnTab:false});e.exports=y;});
__d("curry",["bind"],function(a,b,c,d,e,f){var g=b('bind'),h=g(null,g,null);e.exports=h;});
__d("guid",[],function(a,b,c,d,e,f){function g(){return 'f'+(Math.random()*(1<<30)).toString(16).replace('.','');}e.exports=g;});
__d("ManagedError",[],function(a,b,c,d,e,f){function g(h,i){Error.prototype.constructor.call(this,h);this.message=h;this.innerError=i;}g.prototype=new Error();g.prototype.constructor=g;e.exports=g;});
__d("AssertionError",["ManagedError"],function(a,b,c,d,e,f){var g=b('ManagedError');function h(i){g.prototype.constructor.apply(this,arguments);}h.prototype=new g();h.prototype.constructor=h;e.exports=h;});
__d("Assert",["AssertionError","sprintf"],function(a,b,c,d,e,f){var g=b('AssertionError'),h=b('sprintf');function i(n,o){if(typeof n!=='boolean'||!n)throw new g(o);return n;}function j(n,o,p){var q;if(o===undefined){q='undefined';}else if(o===null){q='null';}else{var r=Object.prototype.toString.call(o);q=/\s(\w*)/.exec(r)[1].toLowerCase();}i(n.indexOf(q)!==-1,p||h('Expression is of type %s, not %s',q,n));return o;}function k(n,o,p){i(o instanceof n,p||'Expression not instance of type');return o;}function l(n,o){m['is'+n]=o;m['maybe'+n]=function(p,q){if(p!=null)o(p,q);};}var m={isInstanceOf:k,isTrue:i,isTruthy:function(n,o){return i(!!n,o);},type:j,define:function(n,o){n=n.substring(0,1).toUpperCase()+n.substring(1).toLowerCase();l(n,function(p,q){i(o(p),q);});}};['Array','Boolean','Date','Function','Null','Number','Object','Regexp','String','Undefined'].forEach(function(n){l(n,j.bind(null,n.toLowerCase()));});e.exports=m;});
__d("UIPagelet",["AjaxPipeRequest","AsyncRequest","DOM","HTML","ScriptPathState","URI","copyProperties","emptyFunction","ge"],function(a,b,c,d,e,f){var g=b('AjaxPipeRequest'),h=b('AsyncRequest'),i=b('DOM'),j=b('HTML'),k=b('ScriptPathState'),l=b('URI'),m=b('copyProperties'),n=b('emptyFunction'),o=b('ge');function p(q,r,s){var t=q&&i.isElementNode(q)?q.id:q;this._id=t||null;this._element=o(q||i.create('div'));this._src=r||null;this._context_data=s||{};this._data={};this._handler=n;this._request=null;this._use_ajaxpipe=false;this._is_bundle=true;this._allow_cross_page_transition=false;this._append=false;}p.prototype.getElement=function(){return this._element;};p.prototype.setHandler=function(q){this._handler=q;return this;};p.prototype.go=function(q,r){if(arguments.length>=2||typeof q=='string'){this._src=q;this._data=r||{};}else if(arguments.length==1)this._data=q;this.refresh();return this;};p.prototype.setAllowCrossPageTransition=function(q){this._allow_cross_page_transition=q;return this;};p.prototype.setBundleOption=function(q){this._is_bundle=q;return this;};p.prototype.setTransportErrorHandler=function(q){this.transportErrorHandler=q;return this;};p.prototype.refresh=function(){if(this._use_ajaxpipe){k.setIsUIPageletRequest(true);this._request=new g();this._request.setCanvasId(this._id).setAppend(this._append).setConstHeight(this._constHeight).setJSNonBlock(this._jsNonblock).setAutomatic(this._automatic).setDisplayCallback(this._displayCallback).setFinallyHandler(this._finallyHandler);}else{var q=function(u){this._request=null;var v=j(u.getPayload());if(this._append){i.appendContent(this._element,v);}else i.setContent(this._element,v);this._handler();}.bind(this),r=this._displayCallback,s=this._finallyHandler;this._request=new h().setMethod('GET').setReadOnly(true).setOption('bundle',this._is_bundle).setHandler(function(u){if(r){r(q.curry(u));}else q(u);s&&s();});if(this.transportErrorHandler)this._request.setTransportErrorHandler(this.transportErrorHandler);}var t={};m(t,this._context_data);m(t,this._data);this._request.setURI(this._src).setAllowCrossPageTransition(this._allow_cross_page_transition).setData({data:JSON.stringify(t)}).send();return this;};p.prototype.cancel=function(){if(this._request)this._request.abort();};p.prototype.setUseAjaxPipe=function(q){this._use_ajaxpipe=!!q;return this;};p.prototype.setAppend=function(q){this._append=!!q;return this;};p.prototype.setJSNonBlock=function(q){this._jsNonblock=!!q;return this;};p.prototype.setAutomatic=function(q){this._automatic=!!q;return this;};p.prototype.setDisplayCallback=function(q){this._displayCallback=q;return this;};p.prototype.setConstHeight=function(q){this._constHeight=!!q;return this;};p.prototype.setFinallyHandler=function(q){this._finallyHandler=q;return this;};p.loadFromEndpoint=function(q,r,s,t){t=t||{};var u='/ajax/pagelet/generic.php/'+q;if(t.intern)u='/intern'+u;var v=new l(u.replace(/\/+/g,'/'));if(t.subdomain)v.setSubdomain(t.subdomain);var w=new p(r,v,s).setUseAjaxPipe(t.usePipe).setBundleOption(t.bundle!==false).setAppend(t.append).setJSNonBlock(t.jsNonblock).setAutomatic(t.automatic).setDisplayCallback(t.displayCallback).setConstHeight(t.constHeight).setAllowCrossPageTransition(t.crossPage).setFinallyHandler(t.finallyHandler||n).setTransportErrorHandler(t.transportErrorHandler);t.handler&&w.setHandler(t.handler);w.go();return w;};e.exports=p;});
__d("TinyViewport",["Arbiter","ArbiterMixin","CSS","DOM","Event","copyProperties","queryThenMutateDOM"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterMixin'),i=b('CSS'),j=b('DOM'),k=b('Event'),l=b('copyProperties'),m=b('queryThenMutateDOM'),n=document.documentElement,o,p,q=false,r={isTiny:function(){return o;}};l(r,h);var s=m.bind(null,function(){p=p||j.getDocumentScrollElement();o=n.clientHeight<400||n.clientWidth<p.scrollWidth;},function(){if(o!==q){i.conditionClass(n,'tinyViewport',o);i.conditionClass(n,'canHaveFixedElements',!o);r.inform('change',o);q=o;}},'TinyViewport');s();g.subscribe('quickling/response',s);k.listen(window,'resize',s);e.exports=r;});
__d("AccessibleLayer",["DOM","Event","Focus","tx"],function(a,b,c,d,e,f){var g=b('DOM'),h=b('Event'),i=b('Focus'),j=b('tx');function k(l){this._layer=l;}k.prototype.enable=function(){this._afterShowSubscription=this._layer.subscribe('aftershow',this._onAfterShow.bind(this));};k.prototype.disable=function(){this._listener&&this._listener.remove();this._afterShowSubscription.unsubscribe();this._listener=this._afterShowSubscription=null;};k.prototype._closeListener=function(event){var l=this._layer.getCausalElement();if(l)if(l.tabIndex==-1){l.tabIndex=0;i.setWithoutOutline(l);}else i.set(l);this._layer.hide();};k.prototype._onAfterShow=function(){var l=this._layer.getContentRoot();if(g.scry(l,'.layer_close_elem')[0])return;var m=g.create('a',{className:'accessible_elem layer_close_elem',href:'#'},["\u0417\u0430\u043a\u0440\u044b\u0442\u044c \u0432\u0441\u043f\u043b\u044b\u0432\u0430\u044e\u0449\u0435\u0435 \u043e\u043a\u043d\u043e \u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c"]);g.appendContent(l,m);this._listener=h.listen(m,'click',this._closeListener.bind(this));};e.exports=k;});
__d("ContextualLayerUpdateOnScroll",["Event","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('copyProperties');function i(j){this._layer=j;}i.prototype.enable=function(){this._subscriptions=[this._layer.subscribe('show',this._attachScrollListener.bind(this)),this._layer.subscribe('hide',this._removeScrollListener.bind(this))];};i.prototype.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this.detach();};i.prototype._attachScrollListener=function(){if(this._listener)return;var j=this._layer.getContextScrollParent();this._listener=g.listen(j,'scroll',this._layer.updatePosition.bind(this._layer));};i.prototype._removeScrollListener=function(){this._listener&&this._listener.remove();this._listener=null;};h(i.prototype,{_subscriptions:[]});e.exports=i;});
__d("LayerDestroyOnHide",["function-extensions","copyProperties","shield"],function(a,b,c,d,e,f){b('function-extensions');var g=b('copyProperties'),h=b('shield');function i(j){this._layer=j;}i.prototype.enable=function(){this._subscription=this._layer.subscribe('hide',h(Function.prototype.defer,this._layer.destroy.bind(this._layer)));};i.prototype.disable=function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};g(i.prototype,{_subscription:null});e.exports=i;});
__d("LayerFadeOnHide",["Animation","Layer","Style","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('Layer'),i=b('Style'),j=b('UserAgent'),k=b('copyProperties');function l(m){this._layer=m;}l.prototype.enable=function(){if(j.ie()<9)return;this._subscription=this._layer.subscribe('starthide',this._handleStartHide.bind(this));};l.prototype.disable=function(){if(this._subscription){this._subscription.unsubscribe();this._subscription=null;}};l.prototype._handleStartHide=function(){var m=true,n=h.subscribe('show',function(){n.unsubscribe();m=false;});(function(){n.unsubscribe();n=null;if(m){this._animate();}else this._layer.finishHide();}).bind(this).defer();return false;};l.prototype._animate=function(){new g(this._layer.getRoot()).from('opacity',1).to('opacity',0).duration(150).ondone(this._finish.bind(this)).go();};l.prototype._finish=function(){i.set(this._layer.getRoot(),'opacity','');this._layer.finishHide();};k(l.prototype,{_subscription:null});e.exports=l;});
__d("LayerHideOnBlur",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i){this._layer=i;}h.prototype.enable=function(){this._subscriptions=[this._layer.subscribe('show',this._attach.bind(this)),this._layer.subscribe('hide',this._detach.bind(this))];if(this._layer.isShown())this._attach();};h.prototype.disable=function(){this._detach();while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=null;};h.prototype._detach=function(){this._onBlur&&this._onBlur.unsubscribe();this._onBlur=null;};h.prototype._attach=function(){this._onBlur=this._layer.subscribe('blur',function(){this._layer.hide();return false;}.bind(this));};g(h.prototype,{_subscriptions:null,_onBlur:null});e.exports=h;});
__d("LayerHideOnEscape",["Event","Keys","copyProperties"],function(a,b,c,d,e,f){var g=b('Event'),h=b('Keys'),i=b('copyProperties');function j(k){this._layer=k;}j.prototype.enable=function(){this._subscription=this._layer.subscribe('key',this._handle.bind(this));};j.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};j.prototype._handle=function(k,event){if(g.getKeyCode(event)===h.ESC){this._layer.hide();return false;}};i(j.prototype,{_subscription:null});e.exports=j;});
__d("LayerMouseHooks",["function-extensions","Arbiter","ContextualThing","Event","Layer","copyProperties"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Arbiter'),h=b('ContextualThing'),i=b('Event'),j=b('Layer'),k=b('copyProperties'),l=new g();function m(n){this._layer=n;this._subscriptions=[];this._currentlyActive=false;}m.prototype.enable=function(){this._subscriptions=[l.subscribe('mouseenter',this._handleActive.bind(this)),l.subscribe('mouseleave',this._handleInactive.bind(this)),this._layer.subscribe('hide',function(){this._currentlyActive=false;}.bind(this))];};m.prototype.disable=function(){while(this._subscriptions.length)this._subscriptions.pop().unsubscribe();this._subscriptions=[];this._currentlyActive=false;};m.prototype._handleActive=function(n,o){if(!this._currentlyActive&&this._isNodeWithinStack(o)){this._layer.inform('mouseenter');this._currentlyActive=true;}};m.prototype._handleInactive=function(n,o){if(this._currentlyActive)if(!o||!this._isNodeWithinStack(o)){this._layer.inform('mouseleave');this._currentlyActive=false;}};m.prototype._isNodeWithinStack=function(n){return h.containsIncludingLayers(this._layer.getContentRoot(),n);};j.subscribe('show',function(n,o){var p=o.getContentRoot(),q=[i.listen(p,'mouseenter',function(){l.inform('mouseenter',p);}),i.listen(p,'mouseleave',function(s){l.inform('mouseleave',s.getRelatedTarget());})],r=o.subscribe('hide',function(){while(q.length)q.pop().remove();r.unsubscribe();q=r=null;});});e.exports=m;});
__d("LayerRefocusOnHide",["ContextualThing","DOM","DOMQuery","Focus","Parent","copyProperties"],function(a,b,c,d,e,f){var g=b('ContextualThing'),h=b('DOM'),i=b('DOMQuery'),j=b('Focus'),k=b('Parent'),l=b('copyProperties');function m(n){this._layer=n;}m.prototype.enable=function(){this._subscription=this._layer.subscribe('hide',this._handle.bind(this));};m.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};m.prototype._handle=function(n,event){if(document.activeElement===document.body||i.contains(this._layer.getRoot(),document.activeElement)){var o=this._layer.getCausalElement();while(o&&(!o.offsetWidth)){var p=k.byClass(o,'uiToggle');if(p&&p.offsetWidth){o=h.scry(p,'[rel="toggle"]')[0];}else{var q=g.getContext(o);if(q){o=q;}else o=o.parentNode;}}if(o&&(o.tabIndex!=-1))j.setWithoutOutline(o);}};l(m.prototype,{_subscription:null});e.exports=m;});
__d("ModalLayer",["function-extensions","Arbiter","CSS","DataStore","DOM","DOMDimensions","DOMQuery","Event","ScrollAwareDOM","Style","URI","UserAgent","Vector","copyProperties","csx","cx","debounceAcrossTransitions","isAsyncScrollQuery","removeFromArray"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Arbiter'),h=b('CSS'),i=b('DataStore'),j=b('DOM'),k=b('DOMDimensions'),l=b('DOMQuery'),m=b('Event'),n=b('ScrollAwareDOM'),o=b('Style'),p=b('URI'),q=b('UserAgent'),r=b('Vector'),s=b('copyProperties'),t=b('csx'),u=b('cx'),v=b('debounceAcrossTransitions'),w=b('isAsyncScrollQuery'),x=b('removeFromArray'),y=[],z=null,aa=null,ba=null;function ca(){if(!ba)ba=l.scry(document.body,"._li")[0];return ba;}function da(la){var ma={position:r.getScrollPosition()},na=la.offsetTop-ma.position.y;h.addClass(la,"_31e");o.set(la,'top',na+'px');g.inform('reflow');ma.listener=n.subscribe('scroll',function(oa,pa){if(l.contains(la,pa.target)){var qa=la.offsetTop-pa.delta.y;o.set(la,'top',qa+'px');ma.position=ma.position.add(pa.delta);return false;}});i.set(la,'ModalLayerData',ma);if(q.firefox()<13)ea.curry(la).defer();}function ea(la){l.scry(la,'div.swfObject').forEach(function(ma){var na=ma.getAttribute('data-swfid');if(na&&window[na]){var oa=window[na];oa.addParam('autostart','false');oa.addParam('autoplay','false');oa.addParam('play','false');oa.addVariable('video_autoplay','0');oa.addVariable('autoplay','0');oa.addVariable('play','0');var pa=p(oa.getAttribute('swf'));pa.addQueryData({autoplay:'0'});pa.setPath(pa.getPath().replace('autoplay=1','autoplay=0'));oa.setAttribute('swf',pa.toString());oa.write(ma);}});}function fa(la,ma){var na=i.get(la,'ModalLayerData');if(na){var oa=function(){h.removeClass(la,"_31e");o.set(la,'top','');if(ma){var ra=l.getDocumentScrollElement();ra.scrollTop=na.position.y;}g.inform('reflow');na.listener.unsubscribe();na.listener=null;i.remove(la,'ModalLayerData');};if(ma&&w()){var pa=j.create('div',{className:"_42w"});o.set(pa,'height',la.offsetHeight+'px');j.appendContent(document.body,pa);var qa=l.getDocumentScrollElement();qa.scrollTop=na.position.y;ma=false;!function(){oa();j.remove(pa);}.defer();}else oa();}if(q.ie()<7)o.set(la,'height','');}function ga(){var la=ca();if(!h.hasClass(la,"_31e"))da(la);}function ha(){if(!y.length)fa(ca(),true);}function ia(){var la;if(q.ie()<7){var ma=y[y.length-1].getLayerRoot(),na=Math.max(ma.offsetHeight,ma.scrollHeight);la=function(ta){o.set(ta,'height',(-ta.offsetTop+na)+'px');};}var oa=y.length;while(oa--){var pa=y[oa],qa=pa.getLayerRoot();ja(qa,'');var ra=pa.getLayerContentRoot(),sa=ra.offsetWidth+k.measureElementBox(ra,'width',0,0,1);ja(qa,sa);if(la&&oa<y.length-1)la(qa);}la&&la(ca());}function ja(la,ma){var na=q.ie()<7;if(na&&ma&&ma<=document.body.clientWidth)ma='';o.set(la,na?'width':'min-width',ma+(ma?'px':''));}function ka(la){this._layer=la;}ka.prototype.enable=function(){if(!ca())return;this._subscription=this._layer.subscribe(['show','hide'],function(la){la=='show'?this._addModal():this._removeModal();}.bind(this));if(this._layer.isShown())this._addModal();};ka.prototype.disable=function(){if(!ca())return;this._subscription.unsubscribe();this._subscription=null;if(this._layer.isShown())this._removeModal();};ka.prototype._addModal=function(){h.addClass(this.getLayerRoot(),"_3qw");var la=y[y.length-1];if(la){da(la.getLayerRoot());}else ga();var ma=l.getDocumentScrollElement();ma.scrollTop=0;if(!y.length){if(q.ie()<7)h.addClass(document.documentElement,"_31d");var na=v(ia,100);z=m.listen(window,'resize',na);aa=g.subscribe('reflow',na);}y.push(this);ia.defer();};ka.prototype._removeModal=function(){var la=this.getLayerRoot();h.removeClass(la,"_3qw");ja(la,'');var ma=this===y[y.length-1];x(y,this);var na=y[y.length-1];if(!na){z.remove();z=null;aa.unsubscribe();aa=null;}!function(){if(na){fa(na.getLayerRoot(),ma);}else ha();if(y.length){ia.defer();}else if(q.ie()<7)h.removeClass(document.documentElement,"_31d");}.defer(400,false);};ka.prototype.getLayerRoot=function(){return this._layer.getRoot();};ka.prototype.getLayerContentRoot=function(){return this._layer.getContentRoot();};s(ka.prototype,{_subscription:null});e.exports=ka;});
__d("ContextualDialogArrow",["CSS","DOM","JSXDOM","Locale","Style","Vector","copyProperties","cx"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('DOM'),i=b('JSXDOM'),j=b('Locale'),k=b('Style'),l=b('Vector'),m=b('copyProperties'),n=b('cx'),o={bottom:"_53ik",top:"_53il",right:"_53im",left:"_53in"},p={above:'bottom',below:'top',left:'right',right:'left'};function q(r){this._layer=r;}q.prototype.enable=function(){this._subscription=this._layer.subscribe(['adjust','reposition'],this._handle.bind(this));};q.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;};q.prototype._handle=function(r,s){if(r==='adjust'){this._repositionArrow(s);}else this._repositionRoot(s);};q.prototype._repositionRoot=function(r){var s=r.getAlignment();if(s=='center')return;var t=this._layer.getRoot(),u=this._layer.getContext(),v=r.isVertical(),w=this._layer.getArrowDimensions(),x=w.offset,y=w.length,z=l.getElementDimensions(u),aa=v?z.x:z.y;if(aa>=y+(x*2))return;var ba=(y/2)+x,ca=aa/2,da=parseInt(ba-ca,10);if(v){if(s=='left'){var ea=parseInt(k.get(t,'left'),10);k.set(t,'left',(ea-da)+'px');}else{var fa=parseInt(k.get(t,'right'),10);k.set(t,'right',(fa-da)+'px');}}else{var ga=parseInt(k.get(t,'top'),10);k.set(t,'top',(ga-da)+'px');}};q.prototype._repositionArrow=function(r){var s=this._layer.getContentRoot(),t=r.getPosition(),u=p[t];for(var v in o)g.conditionClass(s,o[v],u===v);if(t=='none')return;if(!this._arrow){this._arrow=i.i({className:"_53io"});h.appendContent(s,this._arrow);}g.conditionClass(s,"_kc",this._layer.getFooter());k.set(this._arrow,'top','');k.set(this._arrow,'left','');k.set(this._arrow,'right','');k.set(this._arrow,'margin','');var w=q.getOffsetPercent(r),x=q.getOffset(r,w,this._layer),y=q.getOffsetSide(r);k.set(this._arrow,y,w+'%');k.set(this._arrow,'margin-'+y,x+'px');};q.getOffsetPercent=function(r){var s=r.getAlignment(),t=r.getPosition();if(t=='above'||t=='below')if(s=='center'){return 50;}else if(s=='right')return 100;return 0;};q.getOffsetSide=function(r){var s=r.isVertical();return s?(j.isRTL()?'right':'left'):'top';};q.getOffset=function(r,s,t){var u=t.getArrowDimensions(),v=u.offset,w=u.length,x=r.getAlignment(),y=(x=='center')?0:v;y+=w*s/100;if(x!='left')y*=-1;return y;};m(q.prototype,{_subscription:null,_arrow:null});e.exports=q;});
__d("ContextualDialogDefaultTheme",["cx"],function(a,b,c,d,e,f){var g=b('cx'),h={wrapperClassName:"_53ip",arrowDimensions:{offset:15,length:16}};e.exports=h;});
__d("ContextualDialogFitInViewport",["ContextualLayerDimensions","Event","Style","Vector","copyProperties","throttle"],function(a,b,c,d,e,f){var g=b('ContextualLayerDimensions'),h=b('Event'),i=b('Style'),j=b('Vector'),k=b('copyProperties'),l=b('throttle');function m(n){this._layer=n;this._listeners=[];}m.prototype.enable=function(){var n=this._layer.getArrowDimensions();this._arrowOffset=n.offset;var o=n.length;this._arrowBuffer=this._arrowOffset+o;this._subscription=this._layer.subscribe(['show','hide','reposition'],function(p,q){if(p=='reposition'){this._calculateMinimumTop(q);}else if(p=='show'){this._attachScroll();this._adjustForScroll();}else this._detachScroll();}.bind(this));if(this._layer.isShown())this._attachScroll();};m.prototype.disable=function(){if(this._layer.isShown())this._detachScroll();this._subscription.unsubscribe();this._subscription=null;};m.prototype._attachScroll=function(){var n=l(this._adjustForScroll.bind(this)),o=this._layer.getContextScrollParent()||window;this._listeners=[h.listen(o,'scroll',n),h.listen(window,'resize',n)];};m.prototype._detachScroll=function(){while(this._listeners.length)this._listeners.pop().remove();this._listeners=[];};m.prototype._getContentHeight=function(){return j.getElementDimensions(this._layer._contentWrapper).y;};m.prototype._getContextY=function(){return j.getElementPosition(this._layer.getContext()).y;};m.prototype._calculateMinimumTop=function(n){if(n.isVertical())return;this._minimumTop=(this._getContextY()-(this._getContentHeight()-this._arrowBuffer)+n.getOffsetY());};m.prototype._adjustForScroll=function(){if(this._layer.isFixed())return;var n=this._layer._getOrientation();if(n.isVertical())return;var o=g.getViewportRect(this._layer),p=o.b-this._minimumTop;if(p<0)return;var q=this._getContentHeight(),r=q-(this._arrowBuffer+this._arrowOffset),s=Math.max(0,Math.min(r,r-(p-q)));i.set(this._layer.getContent(),'top',-s+'px');};k(m.prototype,{_subscription:null,_minimumTop:null});e.exports=m;});
__d("ContextualDialog",["AccessibleLayer","ContextualDialogArrow","ContextualDialogDefaultTheme","ContextualDialogFitInViewport","ContextualLayer","CSS","DOM","JSXDOM","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerHideOnTransition","LayerMouseHooks","Style","copyProperties","csx","cx","invariant","removeFromArray"],function(a,b,c,d,e,f){var g=b('AccessibleLayer'),h=b('ContextualDialogArrow'),i=b('ContextualDialogDefaultTheme'),j=b('ContextualDialogFitInViewport'),k=b('ContextualLayer'),l=b('CSS'),m=b('DOM'),n=b('JSXDOM'),o=b('LayerAutoFocus'),p=b('LayerButtons'),q=b('LayerFormHooks'),r=b('LayerHideOnTransition'),s=b('LayerMouseHooks'),t=b('Style'),u=b('copyProperties'),v=b('csx'),w=b('cx'),x=b('invariant'),y=b('removeFromArray');for(var z in k)if(k.hasOwnProperty(z)&&z!=="_metaprototype")ba[z]=k[z];var aa=k===null?null:k.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=k;function ba(){if(k!==null)k.apply(this,arguments);}ba.prototype._configure=function(ca,da){u(ca,ca.theme||i);var ea=ca.arrowBehavior||h;ca.addedBehaviors=ca.addedBehaviors||[];ca.addedBehaviors.push(ea);this._footer=m.scry(da,"div._572u")[0];aa._configure.call(this,ca,da);};ba.prototype._getDefaultBehaviors=function(){var ca=aa._getDefaultBehaviors.call(this);y(ca,r);return ca.concat([g,o,j,p,q,s]);};ba.prototype._buildWrapper=function(ca,da){this._innerWrapper=n.div(null,da);var ea=aa._buildWrapper.call(this,ca,this._innerWrapper);l.addClass(ea,ca.wrapperClassName);this.replaceEntireLayerContents(da);x(this.getContent()===da);if(ca.width)this.setWidth(ca.width);return ea;};ba.prototype.getContentRoot=function(){x(!!this._innerWrapper);return this._innerWrapper;};ba.prototype.setContent=function(ca){x(false);};ba.prototype.replaceEntireLayerContents=function(ca){this._content=null;m.empty(this.getContentRoot());this.setInnerContent(ca);};ba.prototype.setInnerContent=function(ca){l.addClass(ca,"_53ij");if(this.getContent()){m.replace(this.getContent(),ca);}else m.appendContent(this.getContentRoot(),ca);this._content=ca;this.isShown()&&this.updatePosition();};ba.prototype.setWidth=function(ca){this._width=Math.floor(ca);t.set(this.getContentRoot(),'width',ca+'px');return this;};ba.prototype.getFooter=function(){return this._footer;};ba.prototype.getArrowDimensions=function(){return this._config.arrowDimensions;};ba.setContext=function(ca,da){ca.setContext(da);};u(ba.prototype,{_footer:null});e.exports=ba;});
__d("DialogPosition",["Vector"],function(a,b,c,d,e,f){var g=b('Vector'),h=40,i,j={calculateTopMargin:function(k,l){if(i)return i;var m=g.getViewportDimensions(),n=Math.floor((m.x+k)*(m.y-l)/(4*m.x));return Math.max(n,h);},setFixedTopMargin:function(k){i=k;}};e.exports=j;});
__d("DialogX",["function-extensions","Arbiter","Class","CSS","DialogPosition","Event","JSXDOM","Layer","LayerAutoFocus","LayerButtons","LayerFormHooks","LayerRefocusOnHide","LayerTabIsolation","ModalLayer","Style","Vector","copyProperties","cx","debounce","shield"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Arbiter'),h=b('Class'),i=b('CSS'),j=b('DialogPosition'),k=b('Event'),l=b('JSXDOM'),m=b('Layer'),n=b('LayerAutoFocus'),o=b('LayerButtons'),p=b('LayerFormHooks'),q=b('LayerRefocusOnHide'),r=b('LayerTabIsolation'),s=b('ModalLayer'),t=b('Style'),u=b('Vector'),v=b('copyProperties'),w=b('cx'),x=b('debounce'),y=b('shield');for(var z in m)if(m.hasOwnProperty(z)&&z!=="_metaprototype")ba[z]=m[z];var aa=m===null?null:m.prototype;ba.prototype=Object.create(aa);ba.prototype.constructor=ba;ba.__superConstructor__=m;function ba(){if(m!==null)m.apply(this,arguments);}ba.prototype._configure=function(da,ea){aa._configure.call(this,da,ea);i.addClass(this.getRoot(),"_4-hy");if(da.autohide)var fa=this.subscribe('show',function(){fa.unsubscribe();y(this.hide,this).defer(da.autohide);}.bind(this));};ba.prototype._getDefaultBehaviors=function(){return aa._getDefaultBehaviors.call(this).concat([ca,s,n,o,p,r,q]);};ba.prototype._buildWrapper=function(da,ea){var fa=da.xui?"_4-hz":"_t",ga=da.xui?"_59s7":"_1yv";this._innerContent=l.div(null,ea);this._wrapper=l.div({className:ga,role:"dialog",'aria-labelledby':da.titleID||null},l.div({className:fa},this._innerContent));this.setWidth(da.width);return (l.div({className:"_10",role:"dialog"},this._wrapper));};ba.prototype.getContentRoot=function(){return this._wrapper;};ba.prototype.getInnerContent=function(){return this._innerContent;};ba.prototype.updatePosition=function(){var da=u.getElementDimensions(this._wrapper),ea=j.calculateTopMargin(da.x,da.y);t.set(this._wrapper,'margin-top',ea+'px');this.inform('update_position',{type:'DialogX',top:ea});};ba.prototype.setWidth=function(da){da=Math.floor(da);if(da===this._width)return;this._width=da;t.set(this._wrapper,'width',da+'px');};ba.prototype.getWidth=function(){return this._width;};function ca(da){this._layer=da;}ca.prototype.enable=function(){this._subscription=this._layer.subscribe(['show','hide'],function(da){if(da==='show'){this._attach();g.inform('layer_shown',{type:'DialogX'});}else{this._detach();g.inform('layer_hidden',{type:'DialogX'});}}.bind(this));};ca.prototype.disable=function(){this._subscription.unsubscribe();this._subscription=null;this._resize&&this._detach();};ca.prototype._attach=function(){this._layer.updatePosition();this._resize=k.listen(window,'resize',x(this._layer.updatePosition.bind(this._layer)));};ca.prototype._detach=function(){this._resize.remove();this._resize=null;};v(ca.prototype,{_subscription:null,_resize:null});e.exports=ba;});
__d("eachKeyVal",[],function(a,b,c,d,e,f){function g(h,i,j){if(!h||!i)return;var k=Object.keys(h),l;for(l=0;l<k.length;l++)i.call(j,k[l],h[k[l]],h,l);}e.exports=g;});
__d("LoadingDialogDimensions",[],function(a,b,c,d,e,f){var g={HEIGHT:96,WIDTH:300};e.exports=g;});
__d("AsyncDialog",["AsyncRequest","Bootloader","CSS","DialogX","DOM","Env","Keys","LayerFadeOnShow","Parent","React","URI","XUISpinner.react","copyProperties","cx","eachKeyVal","emptyFunction","LoadingDialogDimensions"],function(a,b,c,d,e,f){var g=b('AsyncRequest'),h=b('Bootloader'),i=b('CSS'),j=b('DialogX'),k=b('DOM'),l=b('Env'),m=b('Keys'),n=b('LayerFadeOnShow'),o=b('Parent'),p=b('React'),q=b('URI'),r=b('XUISpinner.react'),s=b('copyProperties'),t=b('cx'),u=b('eachKeyVal'),v=b('emptyFunction'),w=b('LoadingDialogDimensions').WIDTH,x;function y(){if(!x){var ga=k.create('div',{className:"_57-x"});x=new j({width:w,addedBehaviors:[n],xui:true},k.create('div',null,ga));p.renderComponent(r({size:"large"}),ga);x.subscribe(['key','blur'],function(ha,ia){if(ha=='blur'||(ha=='key'&&ia.keyCode==m.ESC)){ca();return false;}});}return x;}var z={},aa=1,ba=[];function ca(){u(z,function(ga,ha){ha.abandon();da(ga);});}function da(ga){delete z[ga];if(!Object.keys(z).length)y().hide();}function ea(ga,ha){var ia=aa++;ba[ia]=ha;z[ia]=ga;var ja=da.curry(''+ia);s(ga.getData(),{__asyncDialog:ia});y().setCausalElement(ga.getRelativeTo()).show();var ka=ga.finallyHandler;ga.setFinallyHandler(function(la){var ma=la.getPayload();if(ma&&ma.asyncURL)fa.send(new g(ma.asyncURL));ja();ka&&ka(la);});ga.setInterceptHandler(ja).setAbortHandler(ja);ga.send();}var fa={send:function(ga,ha){ea(ga,ha||v);},bootstrap:function(ga,ha,ia){if(!ga)return;var ja=o.byClass(ha,'stat_elem')||ha;if(ja&&i.hasClass(ja,'async_saving'))return false;var ka=new q(ga).getQueryData(),la=ia==='dialog',ma=new g().setURI(ga).setData(ka).setMethod(la?'GET':'POST').setReadOnly(la).setRelativeTo(ha).setStatusElement(ja).setNectarModuleDataSafe(ha);if(l.is_desktop){h.loadModules(['FbdDialogProvider'],function(na){na.sendDialog(ma,fa.send);});return;}fa.send(ma);},respond:function(ga,ha){var ia=ba[ga];if(ia){ia(ha);delete ba[ga];}},getLoadingDialog:function(){return y();}};e.exports=fa;});
__d("Hovercard",["JSXDOM","Event","function-extensions","AccessibleLayer","Arbiter","AsyncRequest","AsyncSignal","ContextualDialog","ContextualThing","DOM","LayerAutoFocus","Parent","Rect","Style","UserAgent","Vector","clickRefAction","cx","csx","emptyFunction","tx","userAction"],function(a,b,c,d,e,f){var g=b('JSXDOM'),h=b('Event');b('function-extensions');var i=b('AccessibleLayer'),j=b('Arbiter'),k=b('AsyncRequest'),l=b('AsyncSignal'),m=b('ContextualDialog'),n=b('ContextualThing'),o=b('DOM'),p=b('LayerAutoFocus'),q=b('Parent'),r=b('Rect'),s=b('Style'),t=b('UserAgent'),u=b('Vector'),v=b('clickRefAction'),w=b('cx'),x=b('csx'),y=b('emptyFunction'),z=b('tx'),aa=b('userAction'),ba={},ca={},da=null,ea=null,fa=null,ga=150,ha=700,ia=1000,ja=250,ka=null,la=null,ma=null,na=null;function oa(event){var db=q.byTag(event.getTarget(),'a');cb.processNode(db)&&event.stop();}function pa(db){ea=db;if(!qa(db)){var eb;if(!db||!(eb=ra(db))){ca.moveToken&&ca.moveToken.remove();ca={};return false;}if(ca.node!=db){ca.moveToken&&ca.moveToken.remove();ca={node:db,endpoint:eb,pos:null};}}return true;}function qa(db){return db&&da&&ca.node==db;}function ra(db){return db.getAttribute('data-hovercard');}function sa(db){var eb=o.scry(db,"^._59hp ._57lr").length;if(eb)return;var fb=h.listen(db,'mouseout',function(){clearTimeout(ka);clearTimeout(la);fb.remove();ea=null;if(!cb.contains(db))cb.hide();});if(!ca.moveToken)ca.moveToken=h.listen(db,'mousemove',function(event){ca.pos=u.getEventPosition(event);});clearTimeout(ka);clearTimeout(la);clearTimeout(na);var gb=ga,hb=da?ja:ha;if(db.getAttribute('data-hovercard-instant'))gb=hb=50;ka=setTimeout(xa.curry(db),gb);la=setTimeout(ta.curry(db),hb);}function ta(db,eb){if(ca.node!=db)return;var fb=ba[ra(db)];if(fb){va(fb);}else if(eb){va(za());}else{var gb=da?ja:ha;ma=setTimeout(ta.curry(db,true),ia-gb);}}function ua(){cb.hide(true);clearTimeout(la);}function va(db){var eb=ca.node,fb=da,gb=fb!=eb;if(fa){var hb=fa.getContentRoot();if(!n.containsIncludingLayers(hb,eb))fa.hide();}if(!o.contains(document.body,eb)){cb.hide(true);return;}da=eb;fa=db;db.setContextWithBounds(eb,wa(eb)).show();if(gb)(function(){new l('/ajax/hovercard/shown.php').send();v('himp',da,null,'FORCE',{ft:{evt:39}});aa('hovercard',da).uai('show');}).defer();}function wa(db){var eb=ca.pos,fb=db.getClientRects();if(!eb||fb.length===0)return r.getElementBounds(db);var gb,hb=false;for(var ib=0;ib<fb.length;ib++){var jb=new r(Math.round(fb[ib].top),Math.round(fb[ib].right),Math.round(fb[ib].bottom),Math.round(fb[ib].left),'viewport').convertTo('document'),kb=jb.getPositionVector(),lb=kb.add(jb.getDimensionVector());if(!gb||(kb.x<=gb.l&&kb.y>gb.t)){if(hb)break;gb=new r(kb.y,lb.x,lb.y,kb.x,'document');}else{gb.t=Math.min(gb.t,kb.y);gb.b=Math.max(gb.b,lb.y);gb.r=lb.x;}if(jb.contains(eb))hb=true;}return gb;}function xa(db){if(db.id&&ba[db.id]!=null)return;var eb=ra(db);if(ba[eb]!=null)return;ya(eb);var fb=function(){cb.dirty(eb);ua();};new k(eb).setData({endpoint:eb}).setMethod('GET').setReadOnly(true).setErrorHandler(fb).setTransportErrorHandler(fb).send();}function ya(db){ba[db]=false;}var za=function(){var db=new m({width:275},g.div({className:"_7lk"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."));db.disableBehavior(i).disableBehavior(p);ab(db);za=y.thatReturns(db);return db;};function ab(db){var eb=[db.subscribe('mouseenter',function(){clearTimeout(na);ea=ca.node;}),db.subscribe('mouseleave',function(){db.hide();ea=null;}),db.subscribe('destroy',function(){while(eb.length)eb.pop().unsubscribe();eb=null;})];}var bb=true,cb={hide:function(db){if(!da)return;if(db){if(fa)fa.hide();ea=null;da=null;fa=null;}else na=setTimeout(cb.hide.curry(true),ja);},setDialog:function(db,eb){eb.disableBehavior(i).disableBehavior(p);ba[db]=eb;ab(eb);if(ca.endpoint==db&&ea==ca.node){za().hide();var fb=ca.node.getAttribute('data-hovercard-position');fb&&eb.setPosition(fb);var gb=ca.node.getAttribute('data-hovercard-offset-x');gb&&eb.setOffsetX(parseInt(gb,10));var hb=ca.node.getAttribute('data-hovercard-offset-y');hb&&eb.setOffsetY(parseInt(hb,10));va(eb);}},getDialog:function(db){return ba[db];},contains:function(db){if(fa)return n.containsIncludingLayers(fa.getContentRoot(),db);return false;},dirty:function(db){var eb=ba[db];if(eb){eb.destroy();delete ba[db];}},dirtyAll:function(){for(var db in ba){var eb=ba[db];eb&&cb.dirty(db);}j.inform('Hovercard/dirty');},processNode:function(db){if(db&&pa(db)){sa(db);return true;}return false;},setDirtyAllOnPageTransition:function(db){bb=db;}};(function(){if(t.ie()<8)return;h.listen(document.documentElement,'mouseover',oa);h.listen(window,'scroll',function(){if(da&&s.isFixed(da))cb.hide(true);});j.subscribe('page_transition',function(){ua();bb&&cb.dirtyAll();},j.SUBSCRIBE_NEW);})();e.exports=cb;});
__d("ScrollableArea",["Animation","ArbiterMixin","BrowserSupport","CSS","DataStore","DOM","Event","Parent","Run","SimpleDrag","Style","UserAgent","Vector","throttle","mixin"],function(a,b,c,d,e,f){var g=b('Animation'),h=b('ArbiterMixin'),i=b('BrowserSupport'),j=b('CSS'),k=b('DataStore'),l=b('DOM'),m=b('Event'),n=b('Parent'),o=b('Run'),p=b('SimpleDrag'),q=b('Style'),r=b('UserAgent'),s=b('Vector'),t=b('throttle'),u=12,v=b("mixin"),w=v(h);for(var x in w)if(w.hasOwnProperty(x)&&x!=="_metaprototype")z[x]=w[x];var y=w===null?null:w.prototype;z.prototype=Object.create(y);z.prototype.constructor=z;z.__superConstructor__=w;function z(aa,ba){if(!aa)return;ba=ba||{};this._elem=aa;this._wrap=l.find(aa,'div.uiScrollableAreaWrap');this._body=l.find(this._wrap,'div.uiScrollableAreaBody');this._content=l.find(this._body,'div.uiScrollableAreaContent');this._track=l.find(aa,'div.uiScrollableAreaTrack');this._gripper=l.find(this._track,'div.uiScrollableAreaGripper');this._options=ba;this._throttledComputeHeights=t.withBlocking(this._computeHeights,250,this);this.throttledAdjustGripper=t.withBlocking(this.adjustGripper,250,this);this._throttledShowGripperAndShadows=t.withBlocking(this._showGripperAndShadows,250,this);this._throttledRespondMouseMove=t(this._respondMouseMove,250,this);this.adjustGripper.bind(this).defer();this._listeners=[m.listen(this._wrap,'scroll',this._handleScroll.bind(this)),m.listen(aa,'mousemove',this._handleMouseMove.bind(this)),m.listen(this._track,'click',this._handleClickOnTrack.bind(this))];if(i.hasPointerEvents())this._listeners.push(m.listen(aa,'click',this._handleClickOnTrack.bind(this)));if(ba.fade!==false){this._listeners.push(m.listen(aa,'mouseenter',this._handleMouseEnter.bind(this)),m.listen(aa,'mouseleave',this._handleMouseLeave.bind(this)),m.listen(aa,'focusin',this.showScrollbar.bind(this,false)),m.listen(aa,'focusout',this.hideScrollbar.bind(this)));}else if(i.hasPointerEvents())this._listeners.push(m.listen(aa,'mouseleave',j.removeClass.curry(aa,'uiScrollableAreaTrackOver')));if(r.webkit()||r.chrome()){this._listeners.push(m.listen(aa,'mousedown',function(){var ca=m.listen(window,'mouseup',function(){if(aa.scrollLeft)aa.scrollLeft=0;ca.remove();});}));}else if(r.firefox())this._wrap.addEventListener('DOMMouseScroll',function(event){event.axis===event.HORIZONTAL_AXIS&&event.preventDefault();},false);this.initDrag();k.set(this._elem,'ScrollableArea',this);if(!ba.persistent)o.onLeave(this.destroy.bind(this));if(ba.shadow!==false)j.addClass(this._elem,'uiScrollableAreaWithShadow');}z.prototype.initDrag=function(){var aa=i.hasPointerEvents(),ba=new p(aa?this._elem:this._gripper);ba.subscribe('start',function(ca,event){if(!((event.which&&event.which===1)||(event.button&&event.button===1)))return;var da=s.getEventPosition(event,'viewport');if(aa){var ea=this._gripper.getBoundingClientRect();if(da.x<ea.left||da.x>ea.right||da.y<ea.top||da.y>ea.bottom)return false;}this.inform('grip_start');var fa=da.y,ga=this._gripper.offsetTop;j.addClass(this._elem,'uiScrollableAreaDragging');var ha=ba.subscribe('update',function(ja,event){var ka=s.getEventPosition(event,'viewport').y-fa;this._throttledComputeHeights();var la=this._contentHeight-this._containerHeight,ma=ga+ka,na=this._trackHeight-this._gripperHeight;ma=Math.max(Math.min(ma,na),0);var oa=ma/na*la;this._wrap.scrollTop=oa;}.bind(this)),ia=ba.subscribe('end',function(){ba.unsubscribe(ha);ba.unsubscribe(ia);j.removeClass(this._elem,'uiScrollableAreaDragging');this.inform('grip_end');}.bind(this));}.bind(this));};z.prototype.adjustGripper=function(){if(this._needsGripper()){q.set(this._gripper,'height',this._gripperHeight+'px');this._slideGripper();}this._throttledShowGripperAndShadows();return this;};z.prototype._computeHeights=function(){this._containerHeight=this._elem.clientHeight;this._contentHeight=this._content.offsetHeight;this._trackHeight=this._track.offsetHeight;this._gripperHeight=Math.max(this._containerHeight/this._contentHeight*this._trackHeight,u);};z.prototype._needsGripper=function(){this._throttledComputeHeights();return this._gripperHeight<this._trackHeight;};z.prototype._slideGripper=function(){var aa=this._wrap.scrollTop/(this._contentHeight-this._containerHeight)*(this._trackHeight-this._gripperHeight);q.set(this._gripper,'top',aa+'px');};z.prototype._showGripperAndShadows=function(){j.conditionShow(this._gripper,this._needsGripper());j.conditionClass(this._elem,'contentBefore',this._wrap.scrollTop>0);j.conditionClass(this._elem,'contentAfter',!this.isScrolledToBottom());};z.prototype.destroy=function(){this._listeners.forEach(function(aa){aa.remove();});this._listeners.length=0;};z.prototype._handleClickOnTrack=function(event){var aa=s.getEventPosition(event,'viewport'),ba=this._gripper.getBoundingClientRect();if(aa.x<ba.right&&aa.x>ba.left){if(aa.y<ba.top){this.setScrollTop(this.getScrollTop()-this._elem.clientHeight);}else if(aa.y>ba.bottom)this.setScrollTop(this.getScrollTop()+this._elem.clientHeight);event.prevent();}};z.prototype._handleMouseMove=function(event){var aa=this._options.fade!==false;if(i.hasPointerEvents()||aa){this._mousePos=s.getEventPosition(event);this._throttledRespondMouseMove();}};z.prototype._respondMouseMove=function(){if(!this._mouseOver)return;var aa=this._options.fade!==false,ba=this._mousePos,ca=s.getElementPosition(this._track).x,da=s.getElementDimensions(this._track).x,ea=Math.abs(ca+da/2-ba.x);j.conditionClass(this._elem,'uiScrollableAreaTrackOver',i.hasPointerEvents()&&ea<=10);if(aa)if(ea<25){this.showScrollbar(false);}else if(!this._options.no_fade_on_hover)this.hideScrollbar();};z.prototype._handleScroll=function(event){if(this._needsGripper())this._slideGripper();this.throttledAdjustGripper();if(this._options.fade!==false)this.showScrollbar();this.inform('scroll');};z.prototype._handleMouseLeave=function(){this._mouseOver=false;this.hideScrollbar();};z.prototype._handleMouseEnter=function(){this._mouseOver=true;this.showScrollbar();};z.prototype.hideScrollbar=function(aa){if(!this._scrollbarVisible)return this;this._scrollbarVisible=false;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(aa){q.set(this._track,'opacity',0);j.addClass.curry(this._track,'invisible_elem');}else this._hideTimeout=function(){if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}this._hideAnimation=(new g(this._track)).from('opacity',1).to('opacity',0).duration(250).ondone(j.addClass.curry(this._track,'invisible_elem')).go();}.bind(this).defer(750);return this;};z.prototype.resize=function(){var aa=s.getElementDimensions(this._elem).x;if(this._options.fade===false)aa-=10;aa=Math.max(0,aa);q.set(this._body,'width',aa+'px');return this;};z.prototype.showScrollbar=function(aa){this.throttledAdjustGripper();if(this._scrollbarVisible)return this;this._scrollbarVisible=true;if(this._hideTimeout){clearTimeout(this._hideTimeout);this._hideTimeout=null;}if(this._hideAnimation){this._hideAnimation.stop();this._hideAnimation=null;}q.set(this._track,'opacity',1);j.removeClass(this._track,'invisible_elem');if((aa!==false)&&!this._options.no_fade_on_hover)this.hideScrollbar();return this;};z.prototype.isScrolledToBottom=function(){return this._wrap.scrollTop>=this._contentHeight-this._containerHeight;};z.prototype.isScrolledToTop=function(){return this._wrap.scrollTop===0;};z.prototype.scrollToBottom=function(aa){this.setScrollTop(this._wrap.scrollHeight,aa);};z.prototype.scrollToTop=function(aa){this.setScrollTop(0,aa);};z.prototype.scrollIntoView=function(aa,ba){var ca=this._wrap.clientHeight,da=aa.offsetHeight,ea=this._wrap.scrollTop,fa=ea+ca,ga=aa.offsetTop,ha=ga+da;if(ga<ea||ca<da){this.setScrollTop(ga,ba);}else if(ha>fa)this.setScrollTop(ea+(ha-fa),ba);};z.prototype.scrollElemToTop=function(aa,ba,ca){this.setScrollTop(aa.offsetTop,ba,{callback:ca});};z.prototype.poke=function(){var aa=this._wrap.scrollTop;this._wrap.scrollTop+=1;this._wrap.scrollTop-=1;this._wrap.scrollTop=aa;return this.showScrollbar(false);};z.prototype.getScrollTop=function(){return this._wrap.scrollTop;};z.prototype.getScrollHeight=function(){return this._wrap.scrollHeight;};z.prototype.setScrollTop=function(aa,ba,ca){ca=ca||{};if(ba!==false){if(this._scrollTopAnimation)this._scrollTopAnimation.stop();var da=ca.duration||250,ea=ca.ease||g.ease.end;this._scrollTopAnimation=(new g(this._wrap)).to('scrollTop',aa).ease(ea).duration(da).ondone(ca.callback).go();}else{this._wrap.scrollTop=aa;ca.callback&&ca.callback();}};z.renderDOM=function(){var aa=l.create('div',{className:'uiScrollableAreaContent'}),ba=l.create('div',{className:'uiScrollableAreaBody'},aa),ca=l.create('div',{className:'uiScrollableAreaWrap'},ba),da=l.create('div',{className:'uiScrollableArea native'},ca);return {root:da,wrap:ca,body:ba,content:aa};};z.fromNative=function(aa,ba){if(!j.hasClass(aa,'uiScrollableArea')||!j.hasClass(aa,'native'))return;ba=ba||{};j.removeClass(aa,'native');var ca=l.create('div',{className:'uiScrollableAreaTrack'},l.create('div',{className:'uiScrollableAreaGripper'}));if(ba.fade!==false){j.addClass(aa,'fade');j.addClass(ca,'invisible_elem');}else j.addClass(aa,'nofade');l.appendContent(aa,ca);var da=new z(aa,ba);da.resize();return da;};z.getInstance=function(aa){var ba=n.byClass(aa,'uiScrollableArea');return ba?k.get(ba,'ScrollableArea'):null;};z.poke=function(aa){var ba=z.getInstance(aa);ba&&ba.poke();};e.exports=z;});
__d("legacy:Tooltip",["Tooltip"],function(a,b,c,d){a.Tooltip=b('Tooltip');},3);
__d("ClearableTypeahead",["Event"],function(a,b,c,d,e,f){var g=b('Event'),h={resetOnCloseButtonClick:function(i,j){g.listen(j,'click',function(){var k=i.getCore();k.getElement().focus();k.reset();});}};e.exports=h;});
__d("TypeaheadShowLoadingIndicator",["CSS","copyProperties"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('copyProperties');function i(j){this._typeahead=j;}i.prototype.enable=function(){this._subscription=this._typeahead.subscribe('loading',function(j,k){g.conditionClass(this._typeahead.getElement(),'typeaheadLoading',k.loading);g.conditionClass(this._typeahead.getView().getElement(),'typeaheadViewLoading',k.loading);}.bind(this));};i.prototype.disable=function(){this._typeahead.unsubscribe(this._subscription);this._subscription=null;};h(i.prototype,{_subscription:null});e.exports=i;});
__d("legacy:ShowLoadingIndicatorTypeaheadBehavior",["TypeaheadShowLoadingIndicator"],function(a,b,c,d){var e=b('TypeaheadShowLoadingIndicator');if(!a.TypeaheadBehaviors)a.TypeaheadBehaviors={};a.TypeaheadBehaviors.showLoadingIndicator=function(f){f.enableBehavior(e);};},3);
__d("CompactTypeaheadRenderer",["Badge","DOM","TypeaheadFacepile"],function(a,b,c,d,e,f){var g=b('Badge'),h=b('DOM'),i=b('TypeaheadFacepile');function j(k,l){var m=[];if(k.xhp)return h.create('li',{className:'raw'},k.xhp);var n=k.photos||k.photo;if(n){if(n instanceof Array){n=i.render(n);}else n=h.create('img',{alt:'',src:n});m.push(n);}if(k.text){var o=[k.text];if(k.verified)o.push(g('xsmall','verified'));m.push(h.create('span',{className:'text'},o));}var p=k.subtext,q=k.category;if(p||q){var r=[];p&&r.push(p);p&&q&&r.push(" \u00b7 ");q&&r.push(q);m.push(h.create('span',{className:'subtext'},r));}var s=h.create('li',{className:k.type||''},m);if(k.text)s.setAttribute('aria-label',k.text);return s;}j.className='compact';e.exports=j;});
__d("classWithMixins",["copyProperties"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(i,j){var k=function(){i.apply(this,arguments);};k.prototype=g(Object.create(i.prototype),j.prototype);return k;}e.exports=h;});
__d("endsWith",[],function(a,b,c,d,e,f){function g(h,i){return h.indexOf(i,h.length-i.length)>-1;}e.exports=g;});
__d("extendArray",[],function(a,b,c,d,e,f){function g(h,i){Array.prototype.push.apply(h,i);return h;}e.exports=g;});